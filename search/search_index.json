{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Luke's Notes","text":"<p>Welcome to my notes!</p>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ul> <li>TODO</li> <li>Reference</li> </ul>"},{"location":"TODO/","title":"TODO","text":""},{"location":"TODO/#articles","title":"Articles","text":"<ol> <li>Web Applications 101</li> <li>Everything I Wish I Knew When Learning C</li> <li>Rewrite, refactor, reinvent</li> </ol>"},{"location":"TODO/#books","title":"Books","text":"<ol> <li>Hello Algo eBook</li> <li>\u529b\u6263\u52a0\u52a0 - \u52aa\u529b\u505a\u897f\u6e56\u533a\u6700\u597d\u7684\u7b97\u6cd5\u9898\u89e3 (gitbook.io)</li> <li>Embedded Linux System with the Yocto Project - Sample PDF</li> <li>soulmachine leetcode-cpp GitHub repo</li> <li>LeetCode 101 - A LeetCode Grinding Guide (C++ Version)    \u8bf7\u6ce8\u610f\uff0c\u5237\u9898\u53ea\u662f\u63d0\u9ad8\u9762\u8bd5\u4e43\u81f3\u5de5\u4f5c\u80fd\u529b\u7684\u4e00\u5c0f\u90e8\u5206\u3002\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u6d77\u6d0b\u91cc\uff0c\u503c\u5f97\u63a2\u7d22\u7684\u4e1c\u897f\u592a\u591a\uff0c\u5e76\u4e0d\u5efa\u8bae\u60a8\u82b1\u8fc7\u591a\u65f6\u95f4\u5237\u9898\u3002\u5e76\u4e14\u8981\u6210\u4e3a\u4e00\u4e2a\u4f18\u79c0\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6\uff0c\u5237\u9898\u53ea\u662f\u5165\u804c\u7684\u6572\u95e8\u7816\uff0c\u63d0\u9ad8\u5404\u79cd\u4e13\u4e1a\u6280\u80fd\u3001\u6253\u597d\u4e13\u4e1a\u57fa\u7840\u3001\u4ee5\u53ca\u4e86\u89e3\u6700\u65b0\u7684\u4e13\u4e1a\u65b9\u5411\u6216\u8bb8\u66f4\u52a0\u91cd\u8981\u3002</li> <li>Professional CMake: A Practical Guide</li> <li>Qt5.10 GUI\u5b8c\u5168\u53c2\u8003\u624b\u518c</li> <li>Docker Deep Dive</li> <li>\u6570\u5b66\u4e4b\u7f8e</li> <li>\u5de5\u7a0b\u5b66-\u65e0\u5c3d\u7684\u524d\u6cbf</li> <li>\u5dde\u53bf\u5b98\u7684\u94f6\u4e24</li> <li>\u5c71\u6cb3\u6545\u4eba</li> </ol>"},{"location":"TODO/#lessons","title":"Lessons","text":"<ol> <li>Intro to Database Systems</li> </ol>"},{"location":"data_encoding/","title":"data encoding","text":""},{"location":"data_encoding/#sign-magnitude","title":"Sign Magnitude","text":"<p>\u4e66\u672c\u4e2d\u7ffb\u8bd1\u4e3a<code>\u539f\u7801</code>\uff0c\u76f4\u8bd1\u8fc7\u6765\u662f\u6709\u7b26\u53f7\u7684\u91cf\uff0c\u4e5f\u662f\u6700\u81ea\u7136\u7684\u8868\u793a\u65b9\u5f0f\uff0c\u7b26\u5408\u4eba\u7684\u601d\u7ef4\u3002 \u5f53\u7528\u8ba1\u7b97\u673a\u8868\u793a\u6570\u503c\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9996\u5148\u60f3\u5230\u5c06+-\u7b26\u53f7\u7528\u5355\u72ec\u4e00\u4e2abit\u6765\u5b58\u50a8\uff1a0\u8868\u793a<code>+</code>\uff0c1\u8868\u793a<code>-</code>\u3002</p> <p>\u6b63\u6570\u8fd8\u662f\u5176\u672c\u8eab\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u65b9\u5f0f\uff0c\u8d1f\u6570\u5219\u4f7f\u6700\u9ad8\u4f4d\u4e3a1\uff0c\u5176\u4f59\u90e8\u5206\u4e0e\u5176\u6b63\u6570\u90e8\u5206\u4e00\u81f4\u3002</p> <p>\u793a\u4f8b\uff1a\u5bf9\u4e8e\u516b\u4f4d\u7684\u6570\u503c1</p> <ul> <li>1: 0000 0001B</li> <li>-1: 1000 0001B</li> </ul>"},{"location":"data_encoding/#ones-complement","title":"Ones' Complement","text":"<p>\u4e66\u672c\u4e2d\u7ffb\u8bd1\u4e3a<code>\u53cd\u7801</code>\uff0c\u76f4\u8bd1\u8fc7\u6765\u7684\u662f\u4e00\u4e2a1\u6216\u8005\u591a\u4e2a1\u7684\u8865\u96c6</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u6b63\u6570x\uff0c\u5176\u53cd\u7801\u8fd8\u662f\u672c\u8eab\uff1b \u5bf9\u4e8e\u8d1f\u6570-x\uff0c\u5176\u7528\u53cd\u7801\u8868\u793a\u4e3a 1111\u00b7\u00b7\u00b7\u00b7\u00b71 - x</p> <p>\u793a\u4f8b\uff1a\u5bf9\u4e8e\u516b\u4f4d\u6570\u76841</p> <ul> <li>1: 0000 0001B</li> <li>-1: 1111 1111B - 0000 0001B = 1111 1110B \u53ef\u80fd\u662f\u56e0\u4e3a\u8d1f\u6570\u7684\u8868\u793a\u65b9\u5f0f\u521a\u597d\u662f\u5c06\u6b63\u6570\u7684\u6bcf\u4e00\u4f4d\u90fd\u8fdb\u884c\u53d6\u53cd<code>~</code>\u64cd\u4f5c\uff0c\u56e0\u6b64\u5c06\u5176\u7ffb\u8bd1\u4e3a\u53cd\u7801\u3002</li> </ul> <p>\u5907\u6ce8\uff1a<code>Complement</code> \u8868\u793a\u4e0d\u53ef\u6216\u7f3a\u7684\u8865\u5145\uff0c\u6709\u4e92\u8865\uff0c\u66f4\u5b8c\u5584\u548c\u4e92\u76f8\u4f9d\u5b58\u7684\u610f\u601d\uff1b\u540c\u4e49\u7684<code>Supplement</code>\u5219\u662f\u989d\u5916\u8865\u5145\u7684\u610f\u601d\uff0c\u4e0d\u662f\u4e0d\u53ef\u6216\u7f3a\u7684</p>"},{"location":"data_encoding/#twos-complement","title":"Two's Complement","text":"<p>\u7ffb\u8bd1\u4e3a\u8865\u7801\uff0c\u76f4\u8bd1\u8fc7\u6765\u662f2\u7684\u8865\u96c6\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u6b63\u6570x\uff0c\u5176\u8865\u7801\u8868\u793a\u4e3a\u5b83\u7684\u539f\u7801\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u8d1f\u6570-x\uff0c\u91c7\u7528N\u4e2abits\u6765\u5b58\u50a8\u65f6\uff0c\u5176\u8865\u7801\u8868\u793a\u4e3a2^N - x \u5b83\u6070\u597d\u5305\u542b\u4e86\u539f\u7801\u7684\u7b26\u53f7\u7279\u70b9\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u52a0\u6cd5\u8fdb\u884c\u6240\u6709\u7684\u6570\u503c\u8ba1\u7b97\u3002\u4e4b\u524d\u4e00\u76f4\u4e0d\u77e5\u9053\u8fd9\u4e00\u5757\u7684\u6570\u5b66\u539f\u7406\uff0c\u540e\u6765\u53d1\u73b0\u5b83\u5229\u7528\u4e86\u6570\u5b66\u4e0a\u6a21\u8fd0\u7b97\u53d6\u4f59\u7684\u673a\u5236\u3002 \u5f15\u5165\u8865\u7801\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u907f\u514d\u4f7f\u7528\u53cd\u7801\u539f\u7801\u65f60\u7684\u4e24\u79cd\u8868\u793a\u65b9\u5f0f\u5e26\u6765\u7684\u6b67\u4e49\u548c\u5904\u7406\u95ee\u9898\u3002</p> <p>0\u7684\u539f\u7801\uff1a</p> <ul> <li>0000 0000B</li> <li>1000 0000B</li> </ul> <p>0\u7684\u53cd\u7801\uff1a</p> <ul> <li>0000 0000B</li> <li>1111 1111B</li> </ul> <p>\u8fd8\u6709\u5c31\u662f\u5f53\u521d\u8bbe\u8ba1\u8ba1\u7b97\u673a\u65f6\u53ea\u5b9e\u73b0\u4e86\u52a0\u6cd5\u5668\uff0c\u5982\u679c\u518d\u5f15\u5165\u51cf\u6cd5\u5668\u4f1a\u989d\u5916\u589e\u52a0\u66f4\u591a\u7684\u7535\u8def\u590d\u6742\u6027\u3002\u8fd8\u6709\u5c31\u662f\u5728\u8ba1\u7b97\u65f6\u8981\u989d\u5916\u5904\u7406\u7b26\u53f7\u4f4d\uff0c\u8fd9\u4e5f\u662f\u589e\u52a0\u4e86\u7535\u8def\u7684\u590d\u6742\u6027\u3002</p> <p>\u56e0\u6b64\uff0c\u4eba\u4eec\u5de7\u5999\u7684\u5229\u7528\u4e86\u8ba1\u7b97\u673a\u4e0d\u80fd\u8868\u793a\u65e0\u7a77\u5927\u7684\u6570\uff0c\u53ea\u80fd\u8868\u793a\u4e00\u5b9a\u8303\u56f4\u7684\u6570\uff0c\u5f53\u8868\u793a\u8d85\u51fa\u8303\u56f4\u7684\u6570\u65f6\u4f1a\u6709\u6ea2\u51fa\uff0c\u4e5f\u5c31\u662f\u8d85\u51fa\u90e8\u5206\u4f1a\u4e22\u5931\u8fd9\u4e2a\u7279\u70b9\uff0c\u6765\u8bbe\u8ba1\u4e86\u8865\u7801\u3002</p> <p>TODO\uff1a 1000 0000B \u4ee3\u8868\u591a\u5c11</p> <pre><code>signed char i = 0B1'0'00'0000;\nprintf(\"%i, \\n\", i);\n// -128\n</code></pre> <ul> <li>\u53ef\u4ee5\u4f7f\u7528<code>0B</code>\u524d\u7f00\u76f4\u63a5\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u6765\u5b9a\u4e49\u6570\u636e\u3002</li> <li>\u4f7f\u7528<code>'</code>\u6765\u5206\u5272\u4e8c\u8fdb\u5236\u5e8f\u5217\uff0c\u5b83\u53ef\u4ee5\u51fa\u73b0\u5728<code>0B</code>\u548c\u7b2c\u4e00\u4e2a\u6570\u5b57\u4e4b\u540e\u7684\u4efb\u610f\u4f4d\u7f6e\u3002</li> </ul>"},{"location":"data_encoding/#_1","title":"\u8865\u7801\u7684\u8ba1\u7b97","text":"<p>\u9488\u5bf9\u8865\u7801\u6c42\u5176\u503c\uff0c\u53ea\u9700\u8981\u5c06\u6b63\u8d1f\u4f4d\u7684\u6743\u91cd\u503c\u7684\u548c\u8ba1\u7b97\u51fa\u6765\u5373\u53ef\u3002 \u6bd4\u5982\uff0c8\u4f4d\u7684\u65701000 0001B\u7b49\u4e8e</p> <pre><code>2^(7) * (-1) + 1 = -127\n</code></pre> <p>\u5bf9\u4e8e\u4e00\u4e2aw\u4f4d\u7684\u6574\u6570\uff0c\u6b63\u6570\u4e3ax\uff0c\u90a3\u4e48-x\u7684\u8865\u7801\u4e3a</p> <pre><code>2^w - x\n</code></pre> <p>\u8fd9\u53ef\u80fd\u662f\u8865\u7801\u82f1\u6587\u539f\u540d\u7684\u610f\u4e49\u6240\u5728\u3002</p>"},{"location":"data_encoding/#_2","title":"\u6570\u503c\u8303\u56f4","text":"<ul> <li>\u5bf9\u4e8e\u65e0\u7b26\u53f7\u6570\uff0cw\u4f4d\u7684\u6574\u6570\u8303\u56f4\u662f0-(2^w-1), \u53ef\u4ee5\u8868\u793a2^w\u4e2a\u6570</li> <li>\u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\uff0cw\u4f4d\u7684\u6574\u6570\u8303\u56f4\u662f(-2^(w-1)) - (2^(w-1) - 1), \u53ef\u4ee5\u8868\u793a2^w\u4e2a\u6570 \u8d1f\u6570\u6839\u636e\u8865\u7801\u7684\u6743\u91cd\u8ba1\u7b97\u65b9\u5f0f\uff0c\u5f53\u6b63\u6743\u91cd\u7684\u4f4d\u90fd\u662f0\uff0c\u8d1f\u6743\u91cd\u4f4d\u4e3a1\u65f6\uff0c\u5f97\u5230w\u4f4d\u6570\u636e\u6700\u5c0f\u7684\u8d1f\u6570 -2^(w-1)\u3002</li> </ul> <p>\u6240\u4ee5\uff0c8\u4f4d\u7684\u6709\u7b26\u53f7\u6570\uff0c\u6700\u5c0f\u7684\u8d1f\u6570\u662f-2^7 = -128\uff0c\u6700\u5927\u7684\u6b63\u6570\u662f2^7 - 1 = 127\uff0c\u518d\u52a0\u4e0a0\uff0c\u4e00\u5171\u662f128 + 127 + 1 = 256\u4e2a\u6570\u3002</p>"},{"location":"data_encoding/#todo","title":"TODO","text":"<p>\u9a8c\u8bc1\u6ea2\u51fa\u7684\u5904\u7406\uff0c\u6bd4\u5982-128 + (-128), 127+127</p> <pre><code>    char a = -128;\n    char b = 127;\n    char result = (char)(a + a);\n    printf(\"%d, %d\\n\", result, a+a);\n\n    result = b + b;\n    printf(\"%d, %d\\n\", result, b + b);\n\n    result = b + 1;\n    printf(\"%d, %d\\n\", result, b + b);\n</code></pre> <p>\u8f93\u51fa</p> <pre><code>0, -256\n-2, 254\n-128, 254\n</code></pre>"},{"location":"iaas_tools/","title":"IaaS","text":"<ul> <li>Proxmox</li> <li>Open Stack</li> </ul>"},{"location":"nordic/","title":"nRF52840 dongle development","text":""},{"location":"nordic/#cdc","title":"CDC","text":"<p>USB Communications Device Class</p>"},{"location":"nordic/#acm","title":"ACM","text":"<p>Abstract Control Model</p>"},{"location":"nordic/#dfu","title":"DFU","text":"<p>Device Firmware Upgrade</p> <p>\u5b89\u88c5\u9a71\u52a8\u4e4b\u540e\uff0c\u8bbe\u5907\u540d\u5e94\u8be5\u5982\u4e0b: nRF Connect USB CDC ACM (COM7)</p>"},{"location":"nordic/#nrf52840-donle-introduction","title":"nRF52840 Donle introduction","text":"<p>https://www.nordicsemi.com/Products/Development-hardware/nrf52840-dongle</p>"},{"location":"nordic/#usb-cdc-acm-module","title":"USB CDC ACM module","text":"<p>https://infocenter.nordicsemi.com/topic/com.nordic.infocenter.sdk5.v15.2.0/lib_usbd_class_cdc.html</p>"},{"location":"nordic/#desktop-library-for-ble-development","title":"Desktop library for BLE development","text":"<p>https://github.com/NordicSemiconductor/pc-ble-driver</p>"},{"location":"nordic/#nrf-sniffer-for-bluetooth-le","title":"nRF Sniffer for Bluetooth LE","text":"<p>\u53ef\u4ee5\u5c06nRF52840 dongle\u53d8\u6210\u4e00\u4e2asniffer\u5de5\u5177\uff0c\u4f7f\u7528\u5982\u4e0b\u94fe\u63a5\u4e0b\u8f7dzip\u5305\uff0c\u4f7f\u7528\u91cc\u9762\u7684hex\u56fa\u4ef6\u70e7\u5f55\u3002</p> <p>nRF Sniffer for Bluetooth LE is a useful tool for debugging and learning about Bluetooth Low Energy applications.</p> <p>https://www.nordicsemi.com/Products/Development-tools/nRF-Sniffer-for-Bluetooth-LE/Download?lang=en#infotabs</p>"},{"location":"nordic/#nrf52840-dongle-programming-tutorial","title":"nRF52840 Dongle Programming Tutorial","text":"<p>https://devzone.nordicsemi.com/guides/short-range-guides/b/getting-started/posts/nrf52840-dongle-programming-tutorial</p>"},{"location":"nordic/#softdevice","title":"Softdevice","text":"<p>Softdevice\u547d\u540d\u89c4\u5219\u4ecb\u7ecd\uff0c\u70e7\u5f55\u65f6\u53ef\u4ee5\u6839\u636e\u89c4\u5219\u9009\u62e9\u6b63\u786e\u7684hex\u56fa\u4ef6\uff0c\u6bd4\u5982\uff1a <code>connectivity_4.1.4_usb_with_s140_6.1.1.hex</code></p> <p>https://devzone.nordicsemi.com/guides/short-range-guides/b/getting-started/posts/introduction-to-nordic-nrf5-sdk-and-softdevice</p>"},{"location":"refernce/","title":"reference","text":""},{"location":"refernce/#object-oriented-programming-with-ansi-c","title":"Object Oriented Programming with ANSI-C","text":"<p>https://www.cs.rit.edu/~ats/books/ooc.pdf</p> <p>P174</p> <p>This design was motivated by the Class-Responsibility-Collaborator technique described in [Bud91]: We identify objects more or less by looking at the problem. An object is given certain responsibilities to carry out. This leads to other objects which collaborate in carrying out the work. Once the objects are known, they are collected into classes and, hopefully, a hierarchical pattern can be found that is deeper than just one level. The key idea for this application is the Ic class with the capability of receiving, changing, and routing information. This idea was inspired by the Interface Builder of NeXTSTEP where much of the information flow, even to application-specific classes, can be \u2018\u2018wired\u2019\u2019 by mouse-dragging when the graphical user interface is designed with a graphics editor</p> <p>[Bud91] T. Budd An Introduction to Object-Oriented Programming Prentice Hall 1991, ISBN 0-201-54709-0.</p>"},{"location":"refernce/#c-high-performance","title":"C++ High Performance","text":"<p>https://www.amazon.com/High-Performance-Master-optimizing-functioning/dp/1839216549/ref=pd_rhf_d_dp_s_pd_crcd_sccl_1_3/133-7502080-8031538?pd_rd_w=RItVx&amp;content-id=amzn1.sym.cee83ff1-8fc1-4533-a3f5-bf3d998f4558&amp;pf_rd_p=cee83ff1-8fc1-4533-a3f5-bf3d998f4558&amp;pf_rd_r=1M9DBDV6DDVNS1HNVVHN&amp;pd_rd_wg=aRQ69&amp;pd_rd_r=7b91d972-defb-4e90-8077-bbe9886b0602&amp;pd_rd_i=1839216549&amp;psc=1</p>"},{"location":"refernce/#software-design-x-rays","title":"Software Design X-Rays","text":"<p>Fix Technical Debt with Behavioral Code Analysis https://pragprog.com/titles/atevol/software-design-x-rays/</p>"},{"location":"refernce/#why-i-write-dirty-code","title":"Why I write dirty code","text":"<p>https://www.adamtornhill.com/articles/code-quality-in-context/why-i-write-dirty-code.html</p>"},{"location":"refernce/#my-5-worst-bugs","title":"My 5 worst bugs","text":"<p>https://www.adamtornhill.com/articles/worstbugs/lessonssystemdesign.html</p>"},{"location":"refernce/#patterns-in-c","title":"Patterns in C","text":"<p>https://leanpub.com/patternsinc</p>"},{"location":"refernce/#real-time-c","title":"Real-Time C++","text":"<p>Efficient Object-Oriented and Template Microcontroller Programming</p>"},{"location":"rtt/","title":"STM32 \u7cfb\u5217 BSP \u5236\u4f5c\u6559\u7a0b","text":"<p>https://gitee.com/rtthread/rt-thread/blob/gitee_master/bsp/stm32/docs/STM32%E7%B3%BB%E5%88%97BSP%E5%88%B6%E4%BD%9C%E6%95%99%E7%A8%8B.md</p>"},{"location":"Linux/FAQ/","title":"FAQ","text":""},{"location":"Linux/FAQ/#21","title":"2&gt;&amp;1","text":"<ul> <li>0:stdin</li> <li>1:stdout</li> <li>2:stderr</li> </ul> <p>redirect stderr appending to stdout stream. <code>&amp;1</code>\u662f\u4e3a\u4e86\u4e0e\u6587\u4ef61\u533a\u522b</p> <pre><code>echo test 2 &gt;&gt; 1\necho test 2 &gt;&gt;&amp;1\n</code></pre> <p>\u8fd9\u4e24\u8005\u662f\u4e0d\u4e00\u6837\u7684\u3002</p>"},{"location":"Linux/FAQ/#tee","title":"tee","text":"<p><code>tee</code> \u547d\u4ee4\u652f\u6301\u4ecestd IO\u8bfb\u53d6\u5e76\u8f93\u51fa\u5230\u6587\u4ef6\u3002</p> <pre><code>\u276f make 2&gt;&amp;1 | tee a\nmake: *** No targets specified and no makefile found.  Stop.\n\u276f ls\na \n\u276f cat a\nmake: *** No targets specified and no makefile found.  Stop. \n</code></pre>"},{"location":"Linux/FAQ/#ssh-login-without-password","title":"ssh login without password","text":"<p>Copy local public key to remote machine.</p> <pre><code>ssh-copy-id -i id_rsa.pub uec1szh@SGHZ001036195\n</code></pre>"},{"location":"Linux/FAQ/#shell-parameter-expansion","title":"Shell Parameter Expansion","text":""},{"location":"Linux/FAQ/#param-xxx","title":"${param:-${XXX}}","text":"<p>\u68c0\u67e5param\u662f\u5426\u4e3a\u7a7a\uff0c\u5982\u679c\u662f\uff0c\u5219\u4f7f\u7528\u5907\u9009\u7684XXX</p> <pre><code>#A=\"aaabbbccc\"\nB=\"bd\"\nC=${A:-${B}}\necho $A, $B, $C\n\nA=\"aaabbbccc\"\nB=\"bd\"\nC=${A:-${B}}\necho $A, $B, $C\n</code></pre> <p>\u7ed3\u679c\u4e3a</p> <pre><code>, bd, bd\naaabbbccc, bd, aaabbbccc\n</code></pre> <p>GNU doc</p>"},{"location":"Linux/FAQ/#shell-script-set-xue","title":"shell script <code>set -xue</code>","text":"<p>\u8fd9\u4e9b\u5f00\u5173\u53ef\u4ee5\u663e\u5f0f\u5730\u5199\u5728\u811a\u672c\u9876\u7aef\uff0c\u4e5f\u53ef\u4ee5\u5728\u8c03\u7528shell\u811a\u672c\u65f6\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\uff1a</p> <pre><code>sh -xeu xxx.sh\n</code></pre> <ul> <li><code>set -u</code> \u68c0\u67e5\u662f\u5426\u6709\u53d8\u91cf\u672a\u5b9a\u4e49<code>undefined</code>\uff0c\u5982\u679c\u6709\u672a\u5b9a\u4e49\uff0c\u5219\u7ec8\u6b62\u811a\u672c\u6267\u884c\u3002 \u8fd9\u4e2a\u9009\u9879\u5f88\u6709\u7528\uff0c\u7279\u522b\u662f\u5f53\u811a\u672c\u91cc\u4f7f\u7528\u4e86<code>rm -rf</code>\u65f6\u53ef\u4ee5\u907f\u514d\u610f\u5916\u7684\u5220\u9664\u3002</li> </ul> <pre><code>#!/bin/bash\n\nset -u\necho $AAA\n</code></pre> <ul> <li><code>set -e</code> \u811a\u672c\u8fd0\u884c\u6709\u9519\u8beferror\u65f6\uff0c\u7ec8\u6b62\u6267\u884c\u3002\u76f8\u5f53\u4e8e\u5f00\u542f\u4e86\u65ad\u70b9\u3002 \u4e0d\u4f7f\u7528\u5b83\u7684\u65f6\u5019\uff0cshell\u9ed8\u8ba4\u4f1a\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u8bed\u53e5\u3002</li> </ul> <pre><code>#!/bin/bash\n\nset -ue\n\necho $AAA\necho helloworld!\n</code></pre> <ul> <li><code>set -x</code> \u5c55\u5f00eXpand\u663e\u793a\u53d8\u91cf\u7684\u5185\u5bb9</li> </ul>"},{"location":"Linux/FAQ/#using-docker-with-rootless-mode","title":"Using Docker with Rootless Mode","text":"<p>1.Add docker group to system (if non-existed)</p> <pre><code>sudo groupadd docker\n</code></pre> <p>2.Adding user uec1szh to group docker</p> <pre><code>sudo gpasswd -a $USER docker\n</code></pre> <p>3.change group or logout to change to the new group</p> <pre><code>newgrp docker\n</code></pre> <p>NOTE: For lower version ubuntu (&lt; <code>21.04</code>), still need to change socker file attribute.</p> <pre><code>sudo chown root:docker /var/run/docker.sock\nsudo chown -R root:docker /var/run/docker\n</code></pre> <p>4.(Optional) logout</p> <pre><code>sudo pkill -u $USER\n</code></pre>"},{"location":"Linux/FAQ/#logout-via-remote-ssh","title":"logout via remote ssh","text":"<pre><code>sudo pkill -u $USER\n</code></pre>"},{"location":"Linux/FAQ/#cannot-change-default-shell-user-xxx-does-not-exist-in-etcpasswd","title":"Cannot change default shell - user 'xxx' does not exist in /etc/passwd","text":"<p>The system is using distributed authentication (<code>Kerberos</code>), so user account doesn't appear in local <code>/etc/passwd</code>.</p> <pre><code>xxx@xxx:~$ chsh\nPassword:\nChanging the login shell for uec1szh\nEnter the new value, or press ENTER for the default\n        Login Shell [/bin/bash]:\nchsh: user 'uec1szh' does not exist in /etc/passwd\n</code></pre> <p>However user account can be retrieved via:</p> <pre><code>getent passwd $USER\n</code></pre> <p>output:</p> <pre><code>xxx@host:~$ getent passwd $USER\nxxx:*:1420530021:1420530021:xxx xxx (department/XXX):/home/xxx:/bin/bash\n</code></pre>"},{"location":"Linux/awesome-tools/","title":"Awesome tools","text":""},{"location":"Linux/awesome-tools/#shell","title":"Shell","text":"<ul> <li>Shellcheck</li> </ul> <pre><code>sudo apt install -y shellcheck\n</code></pre> <pre><code>\u276f shellcheck test/a.sh\n\nIn test/a.sh line 5:\necho $GGG\n     ^--^ SC2086: Double quote to prevent globbing and word splitting.\n\nDid you mean: \necho \"$GGG\"\n\nFor more information:\n  https://www.shellcheck.net/wiki/SC2086 -- Double quote to prevent globbing ...\n</code></pre> <ul> <li>explainshell.com</li> <li>Google Shell Style Guide</li> </ul>"},{"location":"Linux/best-practices-of-shell-scripts/","title":"Best practices of shell script","text":""},{"location":"Linux/best-practices-of-shell-scripts/#tools","title":"Tools","text":"<ul> <li>Shellcheck is a great plugin for checking scripts.</li> </ul> <p>\u4e5f\u53ef\u4ee5\u5728terminal\u4e2d\u4f7f\u7528\u8be5\u5de5\u5177\u3002</p> <pre><code>sudo apt install -y shellcheck\nshellcheck xx.sh\n</code></pre> <ul> <li>explainshell.com</li> <li>Google Shell Style Guide</li> <li>Bash Best Practise</li> </ul>"},{"location":"Linux/best-practices-of-shell-scripts/#enable-debugging-tracing","title":"Enable debugging, tracing","text":"<ul> <li>\u8c03\u7528shell\u811a\u672c\u65f6\u4f20\u5165\u9009\u9879\u53c2\u6570</li> </ul> <pre><code>bash -x -e -u s.sh\n</code></pre> <p>\u8fd9\u4e2a\u597d\u5904\u662fshell\u811a\u672c\u5185\u90e8\u4e0d\u9700\u8981\u505a\u8bbe\u7f6e\u3002</p> <ul> <li>\u5728\u811a\u672c\u9876\u90e8\u6dfb\u52a0\u9009\u9879\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u5728\u811a\u672c\u6700\u540e\u53bb\u6389\u8fd9\u4e2a\u914d\u7f6e</li> </ul> <pre><code>#!/bin/bash\nset -x -e -u\n# ...\nset +x +e +u\n</code></pre>"},{"location":"Linux/best-practices-of-shell-scripts/#rules","title":"Rules","text":"<ol> <li>\u591a\u5199\u6ce8\u91ca\u3002</li> <li>\u73af\u5883\u53d8\u91cf(<code>export</code>)\u4f7f\u7528\u5927\u5199<code>UPPERCASE</code>\uff0c\u81ea\u5b9a\u4e49\u53d8\u91cf\u4f7f\u7528\u5c0f\u5199<code>lowercase</code></li> <li>\u5c06\u901a\u7528\u7684\u63a5\u53e3\u6216\u8005\u5168\u5c40\u7684\u53d8\u91cf\u5b9a\u4e49\u5355\u72ec\u62c6\u5206\u51fa\u6765\uff0c\u653e\u5230\u9879\u76ee\u7684\u516c\u5171\u6587\u4ef6\u5939\u4ee5\u4f9b\u590d\u7528\u3002</li> <li>\u4f7f\u7528<code>$(cmd &lt;args&gt;)</code>\u4ee3\u66ff\u4f20\u7edf\u7684`cmd \\&lt;args&gt;`</li> <li>\u4f7f\u7528\u53cc\u5f15\u53f7\u5c06\u5b57\u7b26\u4e32\u53d8\u91cf\u5305\u88f9\uff0c\u9632\u6b62\u53d8\u91cf\u5b9e\u9645\u5185\u5bb9\u5305\u542b\u7a7a\u683c\u5bfc\u81f4\u7684\u622a\u65ad</li> <li>\u5e38\u91cf\u6216\u8005\u4e0d\u5e0c\u671b\u4fee\u6539\u7684\u53d8\u91cf\uff0c\u4f7f\u7528<code>readonly</code>\u6765\u786e\u4fdd</li> <li>\u4f7f\u7528local\u53d8\u91cf\u62f7\u8d1d\u5904\u7406\u5916\u90e8\u53d8\u91cf\u548c\u4f20\u5165\u7684\u53c2\u6570</li> <li>\u5728\u6587\u4ef6\u672b\u5c3e\u5c06\u4e0d\u9700\u8981\u4f20\u9012\u7ed9\u5916\u90e8\u7684\u53d8\u91cf\u5220\u9664<code>unset VAR</code></li> <li>\u53d8\u91cf\u7684\u4f7f\u7528\u5168\u90e8\u91c7\u7528<code>${VAR}</code>\u7684\u5f62\u5f0f</li> <li>\u53d8\u91cf\u7684\u4f7f\u7528\u5168\u90e8\u91c7\u7528\u53cc\u5f15\u53f7\u5305\u88f9\uff0c\u4e5f\u5c31\u662f<code>\"${VAR}\"</code></li> <li>\u91c7\u7528\u547d\u4ee4\u7684\u957f\u540d\u79f0\u9009\u9879\uff0c\u8fd9\u6837\u589e\u52a0\u53ef\u8bfb\u6027</li> <li>\u7edf\u4e00\u91c7\u7528#!/usr/bin/env bash\u4f5c\u4e3a\u7b2c\u4e00\u884c</li> <li>\u867d\u7136\u7528\u70b9\u53f7\u66f4\u901a\u7528\uff0c\u4e0d\u8fc7source\u66f4\u76f4\u89c2</li> </ol> <pre><code>#!/usr/bin/env bash\n#\n# ==============================================================================\n#  @copyright (c) 2023 by XXXX. All rights reserved.\n#\n#  The reproduction, distribution and utilization of this file as\n#  well as the communication of its contents to others without express\n#  authorization is prohibited. Offenders will be held liable for the\n#  payment of damages and can be prosecuted. All rights reserved particularly\n#  in the event of the grant of a patent, utility model or design.\n# ==============================================================================\n\n# options (must-have, not rely on argument-passing)\nset -e\n\n# import external scripts\nsource \"$(dirname \"$0\")\"/lib/util.sh arg-1 arg-2\n\nnow=$(date +'%Y-%m-%d %H:%M:%S')\necho \"$name\"\nreadonly version=\"1.2.3\"\n\n#######################################\n# test XXXX\n# Globals:\n#   $name\n# Arguments:\n#   exptect 3 params\n# Outputs:\n#   Writes updated info to stdout\n#######################################\nfunction test()\n{\n    local first_arg=\"${1}\"\n    local second_arg=\"${2}\"\n    local _3rd_arg=\"${3}\"\n    local _name=\"Allen \"\"$name\"\n\n    echo \"$_name\"\n    echo \"1st arg: $first_arg\"\n    echo \"2nd arg: $second_arg\"\n    echo \"3rd arg: $_3rd_arg\"\n}\n\ntest 1 3 \"hello\" \"sssss\"\n\n## rule 9, 10, 11\nrm --recursive --force -- \"${dir}\"\n\nexit 0\n</code></pre>"},{"location":"Linux/link/","title":"link files","text":""},{"location":"Linux/link/#hard-link","title":"Hard Link","text":"<p>\u786c\u94fe\u63a5\u76f8\u5f53\u4e8e\u522b\u540d\uff0c\u6307\u5411\u540c\u4e00\u4e2ainode\uff0cinode\u518d\u6307\u5411\u6587\u4ef6\u5728\u8bbe\u5907\u4e0a\u7684\u5177\u4f53block\u3002 \u4e5f\u56e0\u4e3a\u786c\u94fe\u63a5\u7684\u8fd9\u4e2a\u539f\u7406\uff0c\u786c\u94fe\u63a5\u4e0d\u652f\u6301\u8de8\u6587\u4ef6\u7cfb\u7edf\u7684\u94fe\u63a5\u3002</p> <pre><code>\u276f l\ntotal 12K\ndrwxrwxr-x  3 uec1szh uec1szh 4.0K Mar  6 00:57 .\ndrwx------ 26 uec1szh uec1szh 4.0K Mar  6 00:57 ..\ndrwxrwxr-x  3 uec1szh uec1szh 4.0K Mar  2 04:47 my-project\n</code></pre> <p>\u8fd9\u91cc\u7684\u7b2c\u4e09\u5217\u6570\u5b57\u4ee3\u8868\u7684\u662f\u786c\u94fe\u63a5\u7684\u6570\u91cf\u3002 \u6bcf\u4e2a\u6587\u4ef6\u5939\u5185\u90e8\u6709\u4e24\u4e2a\u9690\u85cf\u7684\u786c\u94fe\u63a5\uff0c\u5206\u522b\u6307\u5411\u5f53\u524d\u76ee\u5f55\u548c\u4e0a\u5c42\u76ee\u5f55\uff0c\u6bcf\u5f53\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u5f53\u524d\u76ee\u5f55\u7684i link\u5c31\u4f1a\u589e\u52a01\u3002 \u786c\u94fe\u63a5\u4e0d\u4f1a\u521b\u5efa\u78c1\u76d8\u6587\u4ef6\uff1b \u53ea\u80fd\u7ed9\u6587\u4ef6\u521b\u5efa\u786c\u94fe\u63a5\uff0c\u4e0d\u53ef\u4ee5\u7ed9\u76ee\u5f55\u521b\u5efa\u3002</p> <pre><code>\u276f ls\nmy-project\n\u276f ln my-project m\nln: my-project: hard link not allowed for directory\n</code></pre> <p>\u5220\u9664\u4e00\u4e2a\u6587\u4ef6\u9700\u8981\u67d0\u4e2a\u6587\u4ef6\u7684\u786c\u94fe\u63a5i_link=0\uff0c\u4e14\u8fdb\u7a0b\u6253\u5f00\u5360\u7528\u7684\u6570\u91cfi_count=0\u3002</p>"},{"location":"Linux/link/#soft-link","title":"Soft Link","text":"<p>\u8f6f\u94fe\u63a5\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u63cf\u8ff0\u5176\u6307\u5411\u7684\u6587\u4ef6\u3002</p>"},{"location":"Qt/FAQ/","title":"FAQ","text":""},{"location":"Qt/FAQ/#getting-started-with-qtquick-and-qml","title":"Getting Started with QtQuick and QML","text":"<p>Guide</p>"},{"location":"Qt/FAQ/#awesome-qt-qml","title":"Awesome Qt QML","text":"<p>GitHub Home</p>"},{"location":"Qt/FAQ/#difference-between-window-and-applicationwindow-in-qml","title":"Difference between Window and ApplicationWindow in QML?","text":"<p>ApplicationWindow is a Window that adds convenience for positioning items, such as MenuBar, ToolBar, and StatusBar in a platform independent manner.</p> <p>That is, it is an item that inherits from Window but has certain default attributes, it is similar to QMainWindow with respect to QWidget.</p>"},{"location":"Qt/FAQ/#what-is-the-use-of-the-uiqml-files-in-qt5-qml","title":"What is the use of the ui.qml files in Qt5 (QML)?","text":"<p>The <code>.ui.qml</code> file exists to help Qt Quick Designer out. Normal QML files can contain JavaScript expressions, for example, but these are difficult for Qt Quick Designer to work with. Plain QML, on the other hand, is not as difficult, and is closer to the widgets equivalent of .ui files - a document that details a set of items in a user interface, not so much the logic behind them.</p>"},{"location":"Qt/FAQ/#overview-qml-and-c-integration","title":"Overview - QML and C++ Integration","text":"<p>cppintegration overview</p>"},{"location":"Qt/FAQ/#how-to-enable-qss-highlight-in-qtcreator","title":"How to enable QSS highlight in QtCreator","text":"<p>By default, the <code>*.qss</code> file is not highlighted in QtCreator. Here are the instructions to enable the highlight.</p> <ul> <li>Open menu <code>Edit</code>, <code>Preference</code></li> <li><code>Environment</code>, <code>MIME type</code></li> <li><code>Registered MIME type</code>, input <code>text/css</code> to filter</li> <li>in <code>details</code>, input <code>*.css;*.CSSL;*.qss</code></li> </ul>"},{"location":"Qt/add_ui/","title":"add ui","text":"<p>\u5f53widget\u7684\u7c7b\u5df2\u7ecf\u5199\u597d\u4e86\uff0c\u60f3\u589e\u52a0ui\u6587\u4ef6\u3002</p> <p>\u65b0\u5efa\u6587\u4ef6\uff0c\u9009\u62e9<code>Qt Designer Form</code>\uff0c\u547d\u540d<code>battery_s_w.ui</code>\uff0c\u5b83\u9002\u5408\u5df2\u7ecf\u5199\u597d\u4e86\u754c\u9762\u4e1a\u52a1\u903b\u8f91\u7c7b\u7684\u573a\u666f\u3002 \u4e4b\u540e\u53cc\u51fbui\u6587\u4ef6\uff0c\u7136\u540e\u70b9\u51fbIDE\u6700\u5de6\u4fa7\u7684\u7f16\u8f91\u6309\u94ae\uff0cxml\u683c\u5f0f\u7f16\u8f91ui\u6587\u4ef6\u3002</p> <pre><code> &lt;widget class=\"QWidget\" name=\"BatteryServiceWidget\"&gt;\n</code></pre> <p>name\u5c31\u662f\u5df2\u7ecf\u5199\u597d\u7684\u754c\u9762\u4e1a\u52a1\u903b\u8f91\u7c7b\u3002\u518d\u5230\u8be5\u7c7b\u91cc\u9762\u7ed1\u5b9a\u3002</p> <pre><code>// BatteryServiceWidget.h\nnamespace Ui {\nclass BatteryServiceWidget;\n}\n\nclass BatteryServiceWidget : public ServiceWidget\n{\n    Q_OBJECT\nprivate:\n    Ui::BatteryServiceWidget *ui;\n    // ...\n};\n</code></pre> <pre><code>// BatteryServiceWidget.cpp\n\n// \u6ce8\u610f\u8fd9\u53e5\uff0c\u5305\u542b\u7684\u7f16\u8bd1\u671f\u95f4\u751f\u6210\u7684ui\u5934\u6587\u4ef6\u540d\uff0c\u5c31\u662fui\u6587\u4ef6\u7684\u540d\u79f0\u52a0\u4e0a ui_ \u524d\u7f00\n#include \"ui_b_s_w.h\"\n\nBatteryServiceWidget::BatteryServiceWidget(ble::GapDevice &amp;gap, ble::GattService &amp;service, QWidget *parent)\n    : ServiceWidget(gap, service, parent),\n      ui(new Ui::BatteryServiceWidget) // \u8fd8\u6709\u8fd9\u4e00\u884c\uff0c\u52a0\u4e0aui\u7684\u90e8\u5206\n{\n    ui-&gt;setupUi(this); // \u5728\u4ee5\u524d\u7684\u6784\u9020\u51fd\u6570\u9876\u90e8\u52a0\u4e0a\u8fd9\u4e2a\n\n    // ...\n}\n</code></pre> <p>\u6700\u540e\uff0c\u9009\u62e9\u91cd\u65b0\u6784\u5efa\uff0c\u751f\u6210ui_xxx.h\u5934\u6587\u4ef6\u7b49\u3002</p>"},{"location":"Qt/custom_control/","title":"custom control","text":"<p>\u6dfb\u52a0\u81ea\u5b9a\u4e49\u63a7\u4ef6\u7684\u65b9\u5f0f\uff0c\u5c31\u662f\u65b0\u5efa\u4e00\u4e2aclass\u3002\u53ef\u4ee5\u9009\u62e9\u5e26ui\u6587\u4ef6\u7684\uff0c\u4e5f\u53ef\u4ee5c++ class\uff0c\u7136\u540e\u52fe\u9009qobject\u8fd9\u4e9b\u3002</p> <pre><code>// battery_widget.h\n\n#ifndef BATTERYWIDGET_H\n#define BATTERYWIDGET_H\n\n#include &lt;QWidget&gt;\n\nclass BatteryWidget : public QWidget\n{\npublic:\n    BatteryWidget(QWidget *parent = nullptr);\n    QRectF getFrame();\n    QPointF getWidgetFrameOffset(QSizeF newWidgetSize);\n    void setValue(float newValue);\n    float getValue() { return value_; }\nprivate:\n    // \u8fd9\u4e24\u4e2a\u5c31\u662f\u91cd\u8f7d\u7236\u7c7bQWidget\u7684\u65b9\u6cd5\uff0c\u8fbe\u5230\u91cd\u7ed8\u6548\u679c\n    void resizeEvent(QResizeEvent *event) override;\n    void paintEvent(QPaintEvent *event) override;\n\n    void validateValue(float newValue);\nprivate:\n    float value_ = 0;\n    float maxValue = 100;\n    float minValue = 0;\n\n    QRectF widgetFrame;\n    QRectF mainBatteryFrame;\n    QRectF tipBatteryFrame;\n    QRectF batteryLevelFrame;\n\n    bool isCharging = false;\n};\n\n#endif // BATTERYWIDGET_H\n</code></pre> <p>\u6dfb\u52a0\u5230\u5176\u4ed6\u9875\u9762\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>\u7528\u4ee3\u7801\u7684\u65b9\u5f0f\uff0c\u5728\u5176\u4ed6\u9875\u9762\u6dfb\u52a0\u5230layout\u91cc\u3002</li> </ul> <pre><code>auto layout = ui-&gt;verticalLayout;\nauto lblService = new XxWidget();\nlayout-&gt;addWidget(lblService);\n</code></pre> <ul> <li>\u5728\u5176\u4ed6\u9875\u9762\u62d6\u62fd\u4e00\u4e2aWidget\uff0c\u7136\u540e\u53f3\u952e\u9009\u62e9\u63d0\u5347\uff0c\u8bbe\u7f6e\u8981\u63d0\u5347\u7684\u90e8\u4ef6\u7684\u6e90\u7801\u6587\u4ef6\u8def\u5f84\u3002</li> </ul> <p>\u8bb0\u5f97\u5199\u5168\u76f8\u5bf9\u8def\u5f84\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u751f\u6210\u7684ui\u5934\u6587\u4ef6\u6709\u95ee\u9898\uff0c\u5bfc\u81f4\u7f16\u8bd1\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u4fe1\u53f7\u6ca1\u6709\u89e6\u53d1\uff01\uff01\uff01</p> <pre><code> &lt;customwidgets&gt;\n  &lt;customwidget&gt;\n   &lt;class&gt;BatteryWidget&lt;/class&gt;\n   &lt;extends&gt;QWidget&lt;/extends&gt;\n   &lt;!-- \u5199\u5168\u76f8\u5bf9\u8def\u5f84 widget/battery_widget.h --&gt;\n   &lt;header location=\"global\"&gt;widget/battery_widget.h&lt;/header&gt;\n   &lt;container&gt;1&lt;/container&gt;\n  &lt;/customwidget&gt;\n &lt;/customwidgets&gt;\n</code></pre>"},{"location":"c-cpp/GoogleTest/","title":"GoogleTest","text":"<p>Home</p>"},{"location":"c-cpp/build/","title":"Build System","text":""},{"location":"c-cpp/build/#_1","title":"\u9879\u76ee\u6784\u5efa\u751f\u6210\u5de5\u5177\u7cfb\u7edf\u5305\u62ec","text":"<ul> <li>cmake</li> <li>qmake</li> <li>autotools</li> <li>GN</li> <li>Bazel</li> <li>Maven</li> </ul>"},{"location":"c-cpp/build/#_2","title":"\u9879\u76ee\u6784\u5efa\u5de5\u5177","text":"<ul> <li>ninja (build.ninja)</li> <li>make (Makefile)</li> <li>nmake (Makefile)</li> <li>devenv.exe (.vcproj)</li> </ul>"},{"location":"c-cpp/build/#_3","title":"\u7f16\u8bd1\u94fe\u63a5\u5de5\u5177","text":"<ul> <li>clang</li> <li>gcc/g++</li> <li>link ar</li> <li>cl.exe</li> </ul>"},{"location":"c-cpp/build/#gn","title":"GN","text":"<p>Google official PPT \u901a\u5e38\u4e0e<code>Ninja</code>\u7ec4\u5408\uff0c\u4f5c\u4e3a<code>chromium</code>\u7b49\u9879\u76ee\u7684\u6784\u5efa\u7cfb\u7edf\u3002</p>"},{"location":"c-cpp/build/#reference","title":"Reference","text":"<p>Build System Basics Professional CMake.pdf Professional CMake It's time to do cmake right</p>"},{"location":"c-cpp/c/","title":"C\u8bed\u8a00\u7b14\u8bb0","text":""},{"location":"c-cpp/c/#_1","title":"\u5e38\u91cf","text":"<p>\u5e38\u91cf\u6307\u7684\u662f\u5185\u8054\u7684\u5b57\u9762\u91cf\uff0c\u4e5f\u5c31\u662f\u7acb\u5373\u6570\u3002 \u5e38\u91cf\u7684\u5b58\u50a8\u7f3a\u4e4f\u81ea\u7531\uff0c\u6570\u503c\u578b\u7684\u5e38\u91cf\u76f4\u63a5\u4ee5\u5185\u8054\u7684\u5f62\u5f0f\u63d2\u5165\u5728\u6c47\u7f16\u8bed\u53e5\u4e2d\uff0c\u5c5e\u4e8e<code>.text</code>\u6bb5\u3002</p> <pre><code>mov eax, 0x10\n</code></pre> <p>\u5b57\u7b26\u4e32\u5e38\u91cf\uff0c\u6216\u8005\u8fc7\u5927\u7684\u6570\u503c\u5e38\u91cf\u5219\u901a\u5e38\u5b58\u50a8\u5728<code>.rodata</code>\u53ea\u8bfb\u6570\u636e\u533a</p> <pre><code>.L1: \"Hello World %d\\n\"\n</code></pre> <pre><code>$SG6328 DB        '%lf', 0aH, 00H\n        ORG $+3\n$SG6329 DB        '%d', 0aH, 00H\n$SG6330 DB        '%lf', 0aH, 00H\n\npush    100                           ; 00000064H\npush    OFFSET $SG6329\ncall    _printf\n</code></pre>"},{"location":"c-cpp/c/#_2","title":"\u53d8\u91cf","text":"<p>\u51fd\u6570\u5185\u90e8<code>static</code>\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u662f\u5168\u5c40\u9759\u6001\u53d8\u91cf\uff0c\u4ec5\u521d\u59cb\u5316\u4e00\u6b21\uff1b\u4e0e\u5e94\u7528\u7a0b\u5e8f\u540c\u6837\u7684\u751f\u547d\u5468\u671f\uff0c\u53ea\u662f\u5b83\u7684\u4f5c\u7528\u8303\u56f4\u53ea\u5728\u51fd\u6570\u5185\u90e8\u3002 \u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u5168\u5c40\u53d8\u91cf\uff0c\u4e0e\u5e94\u7528\u7a0b\u5e8f\u540c\u6837\u7684\u751f\u547d\u5468\uff0c\u9ed8\u8ba4\u4e3a<code>extern</code>\u7684\u4f5c\u7528\u8303\u56f4\u662f\u5168\u5c40\uff0c\u9664\u975e\u663e\u5f0f\u5730\u52a0\u4e0a<code>static</code>\uff0c\u8fd9\u6837\u4f5c\u7528\u8303\u56f4\u662f\u6587\u4ef6\u5185\u90e8\u3002</p>"},{"location":"c-cpp/c/#_3","title":"\u53d8\u91cf\u5b58\u50a8","text":"<ul> <li>\u5168\u5c40\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u5b58\u653e\u5728<code>.data</code></li> <li>\u5168\u5c40\u672a\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u4e00\u822c\u4e3a0\uff0c\u5b58\u653e\u5728<code>.bss</code></li> <li>\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5b58\u653e\u5728\u6808<code>stack</code></li> <li>\u52a8\u6001\u7533\u8bf7\u7684\u5185\u5b58\uff0c\u5b58\u5728\u5806<code>heap</code></li> </ul>"},{"location":"c-cpp/c/#abi","title":"ABI","text":"<p>Application Binary Interface, \u89c4\u5b9a\u4e86\u5728\u67d0\u4e2a\u5e73\u53f0\u4e0a\u5e94\u7528\u8fd0\u884c\u65f6\u5fc5\u987b\u9075\u5b88\u7684\u4e00\u5957\u89c4\u8303\u3002\u56e0\u6b64\uff0c\u5b83\u51b3\u5b9a\u4e86\u5e94\u7528\u7684\u4e8c\u8fdb\u5236\u5c42\u9762\u7684\u517c\u5bb9\u6027\u3002\u91cc\u9762\u5305\u542b\u4e86\uff1a</p> <ul> <li>\u6570\u636e\u7c7b\u578b\u7684\u5b9a\u4e49\uff0c\u5927\u5c0f\uff0c\u5bf9\u9f50</li> <li>\u51fd\u6570\u8c03\u7528\u7684\u65b9\u5f0f\uff0c\u5165\u53c2\u65b9\u5f0f\uff0c\u6808\u7684\u7ef4\u62a4\uff0c\u8fd4\u56de\u503c\u5904\u7406\u7b49\u7b49</li> <li>\u76ee\u6807\u6587\u4ef6\u7684\u683c\u5f0f</li> <li>\u7cfb\u7edf\u8c03\u7528\u7684\u65b9\u5f0f\uff0c\u7cfb\u7edf\u8c03\u7528\u7f16\u53f7</li> </ul> <p>\u6bd4\u5982\uff0c \u51fd\u6570\u7684\u5165\u53c2\u53ea\u67091\u4e2a\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528<code>ax</code>\u5bc4\u5b58\u5668\uff0c\u591a\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff08\u5c0f\u4e8e6\u4e2a\uff09\uff0c\u53ef\u4ee5\u91c7\u7528\u5e38\u7528\u7684\u5bc4\u5b58\u5668\u7ec4\uff08<code>ax</code>\uff0c<code>dx</code>\u3002\u3002\u3002\uff09\uff0c\u8fd8\u6709\u5c31\u662f\u91c7\u7528RTL\u987a\u5e8f\u5165\u6808\u7b49\u3002 \u5f53\u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\u65f6\uff0c\u7f16\u8bd1\u5668\u53ef\u4ee5\u91c7\u7528<code>rax</code>\u3001<code>eax</code>\u3001<code>ax</code>\u5bc4\u5b58\u5668\u4f20\u9012\u3002 \u5f53\u9700\u8981\u8fd4\u56de<code>struct</code>\u53d8\u91cf\u65f6\uff0c\u53ef\u80fd\u4f1a\u91c7\u7528\u6808\u7a7a\u95f4\u4f20\u9012\u3002 \u8fd4\u56de\u6d6e\u70b9\u6570\u6570\u636e\uff0c\u53ef\u80fd\u4f7f\u7528<code>xmm</code>\u5bc4\u5b58\u5668\u3002</p> <p>\u9075\u4ece\u7edf\u4e00\u7684ABI\u6709\u52a9\u4e8e\u591a\u79cd\u4e0d\u540c\u7f16\u8bd1\u5668\u751f\u6210\u517c\u5bb9\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u53ef\u4ee5\u65e0\u7f1d\u5730\u7ec4\u5408\u6210\u5355\u4e2a\u76ee\u6807\u6587\u4ef6\uff0c\u6216\u8005\u8fd0\u884c\u65f6\u52a8\u6001\u52a0\u8f7d\u5e76\u8c03\u7528\u5bf9\u65b9\u7684\u63a5\u53e3\u3002</p> <p>\u4e0eABI\u7d27\u5bc6\u76f8\u5173\u7684\u662f\u7cfb\u7edf\u5e73\u53f0\u67b6\u6784\u548c\u786c\u4ef6\u4f53\u7cfb\uff0c\u56e0\u4e3a\u8fd9\u4e24\u8005\u7684\u4e0e\u5e94\u7528\u7684\u8fd0\u884c\u5bc6\u5207\u76f8\u5173\uff0cABI\u7684\u8bbe\u8ba1\u548c\u7a0b\u5e8f\u7684\u7f16\u5199\u5fc5\u987b\u9075\u5faa\u5b83\u4eec\u7684\u7ea6\u675f\uff0c\u8fdd\u53cd\u5176\u4e2d\u4e00\u6761\u90fd\u4f1a\u5bfc\u81f4\u5e94\u7528\u8fd0\u884c\u7684\u5f02\u5e38\u3002</p> <p>\u6bd4\u5982\uff0cWindows\u7684\u53ef\u6267\u884c\u6587\u4ef6\u683c\u5f0f\u4e3a<code>PE</code>\uff0cLinux\u7684\u662f<code>ELF</code>\uff1bARM\u4e0eIntel\u7684x86\u6307\u4ee4\u96c6\u4e5f\u662f\u4e0d\u540c\u7684\u3002</p>"},{"location":"c-cpp/c/#_4","title":"\u51fd\u6570","text":"<p>\u901a\u8fc7\u51fd\u6570\u53ef\u4ee5\u5c06\u7a0b\u5e8f\u6a21\u5757\u5316\u5212\u5206\uff0c\u4ee5\u53ca\u5c06\u4efb\u52a1\u62c6\u89e3\u3002</p> <p>\u6ca1\u6709\u52a0\u9650\u5b9a\u7684\u51fd\u6570\uff0c\u9ed8\u8ba4\u4e3a<code>extern</code>\u7684\u3002 \u5185\u8054\u51fd\u6570\uff0c\u9700\u8981\u4f7f\u7528<code>static</code>\u58f0\u660e\uff0c\u5426\u5219\u4f1a\u9047\u5230link error \u627e\u4e0d\u5230\u7b26\u53f7\u3002\u5728\u6ca1\u6709\u5f00\u542f\u6700\u9ad8\u4f18\u5316\u7684\u65f6\u5019\uff0c\u94fe\u63a5\u5668\u4f1a\u53bb\u5176\u4ed6\u76ee\u6807\u6587\u4ef6\u4e2d\u5bfb\u627e\u7b26\u53f7\u3002\u52a0\u4e86<code>static</code>\u53ef\u4ee5\u4fdd\u8bc1\u65e0\u8bba\u4f18\u5316\u9009\u9879\uff0c\u90fd\u9650\u5b9a\u5728\u672c\u6587\u4ef6\u5185\u90e8\u67e5\u627e\u7b26\u53f7\u3002</p> <p>\u51fd\u6570\u8fd0\u884c\u4e3b\u8981\u6d89\u53ca\u5230stack\u7684\u4f7f\u7528\u548c\u7ef4\u62a4\uff0c\u6709\u7684<code>ABI</code>\u89c4\u5b9a\u8c03\u7528\u8005\u6e05\u7406stack\uff0c\u6709\u7684\u7ea6\u5b9a\u88ab\u8c03\u7528\u8005\u6e05\u7406stack\u3002\u51fd\u6570\u8fd0\u884c\u671f\u95f4\uff0c\u6808\u6307\u9488\u5bc4\u5b58\u5668\u6307\u5411\u7684\u533a\u57df\u4e3a\u6808\u5e27\uff0c\u5728\u8c03\u7528\u5176\u4ed6\u7684\u51fd\u6570\u4e4b\u524d\uff0c<code>rbp</code>\u548c<code>rsp</code>\u6307\u5411\u7684\u533a\u95f4\u5c31\u662f\u5f53\u524d\u51fd\u6570\u7684\u6808\u5e27\u3002</p> <p>\u51fd\u6570\u8c03\u7528\u524d\uff0c\u9700\u8981\u5c06\u53c2\u6570\u5165\u6808\uff0c\u4e4b\u540e\u4f7f\u7528call\u6307\u4ee4\uff08\u4fdd\u5b58\u5f53\u524d\u6307\u4ee4\u5730\u5740\uff0c\u4fee\u6539CS:IP\uff09\u8c03\u7528\u51fd\u6570\u3002</p> <ol> <li>\u53c2\u6570\u5165\u6808</li> <li>\u5f53\u524d\u6307\u4ee4\u5730\u5740\uff08PC\u5bc4\u5b58\u5668\u5730\u5740\uff09\u5165\u6808</li> <li>\u4fdd\u5b58bp\u5bc4\u5b58\u5668</li> <li>\u5c06sp\u8d4b\u503c\u7ed9bp</li> <li>\u8fdb\u5165\u76ee\u6807\u51fd\u6570\u4e3b\u4f53</li> <li>\u6e05\u7406\u5c40\u90e8\u53d8\u91cf\u5360\u7528\u7684\u7a7a\u95f4\u7b49</li> <li>\u4f20\u9012\u8fd4\u56de\u503c\uff0cax\u5bc4\u5b58\u5668\u7b49</li> <li>\u5c06bp\u8d4b\u503c\u7ed9sp</li> <li>pop bp</li> <li>\u4f7f\u7528\u5165\u6808\u7684PC\u5bc4\u5b58\u5668\u5730\u5740\uff0c\u56de\u5230\u8c03\u7528\u524d\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7ee7\u7eed\u6267\u884c</li> </ol> <p>\u81f3\u6b64\uff0c \u51fd\u6570\u8c03\u7528\u7ed3\u675f\uff0c\u5982\u679c\u671f\u95f4\u8fd8\u6709\u8c03\u7528\u5176\u4ed6\u51fd\u6570\uff0c\u90a3\u4e48\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u5728\u4e2d\u9014\u518d\u5d4c\u5165\u4e0a\u8ff0\u6240\u6709\u6b65\u9aa4\u3002</p> <p>x86\u4e2d\u4f7f\u7528<code>enter</code>\u548c<code>leave</code>\u7ec4\u5408\uff0c<code>enter</code>\u6267\u884c3\u548c4\uff0c<code>leave</code>\u6267\u884c8\u548c9\uff1b <code>call</code>\u6267\u884c2\uff0c<code>ret</code>\u6267\u884c10</p>"},{"location":"c-cpp/c/#test-and-profiling","title":"Test and profiling","text":"<ul> <li>CUnit, Cmocka</li> <li>Instruments (OSX)</li> <li>Windows Performance Recorder (WPR)</li> <li>Perf (GNU/Linux)</li> </ul>"},{"location":"c-cpp/c/#tap","title":"TAP","text":"<p>Test Anything Protocol</p>"},{"location":"c-cpp/c/#c_1","title":"C\u7a0b\u5e8f\u7684\u5165\u53e3","text":"<p>main\u51fd\u6570\u53ea\u80fd\u8bf4\u662f\u7528\u6237\u4ee3\u7801\u90e8\u5206\u6700\u4f18\u5148\u6267\u884c\u7684\uff0c\u800c\u4e0d\u662fC\u7a0b\u5e8f\u7684\u771f\u6b63\u5165\u53e3\u3002\u56e0\u4e3a\u5728\u8f6c\u5165main\u6267\u884c\u4e4b\u524d\uff0cC\u5e93\u90e8\u5206\u9700\u8981\u505a\u4e00\u4e9b\u521d\u59cb\u5316\u51c6\u5907\u5de5\u4f5c\uff0c\u540c\u65f6\u5728\u7a0b\u5e8f\u9000\u51fa\u7684\u65f6\u5019\u4e5f\u8981\u505a\u4e00\u4e9b\u6e05\u7406\u5de5\u4f5c\u3002</p> <p>\u9996\u5148\uff0c\u7f16\u5199\u4e00\u4e2a\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5916\u90e8\u63a5\u53e3\u7684\u7cbe\u7b80\u4ee3\u7801\u3002</p> <pre><code>int main(void)\n{\n    return 0;\n}\n</code></pre> <p>\u7f16\u8bd1\u540e\uff0c\u4f7f\u7528<code>readelf</code>\u547d\u4ee4\u67e5\u770b\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5185\u5bb9\u6458\u8981\u3002</p> <pre><code>$ readelf -h ./test_main\nELF Header:\n  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 \n  Class:                             ELF64\n  Data:                              2's complement, little endian\n  Version:                           1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI Version:                       0\n  Type:                              DYN (Shared object file)\n  Machine:                           Advanced Micro Devices X86-64\n  Version:                           0x1\n  Entry point address:               0x1040\n  Start of program headers:          64 (bytes into file)\n  Start of section headers:          14616 (bytes into file)\n  Flags:                             0x0\n  Size of this header:               64 (bytes)\n  Size of program headers:           56 (bytes)\n  Number of program headers:         13\n  Size of section headers:           64 (bytes)\n  Number of section headers:         29\n  Section header string table index: 28\n</code></pre> <p>\u6b64\u65f6\uff0c\u6211\u4eec\u53d1\u73b0\u7a0b\u5e8f\u7684<code>Entry point address</code>\u4e3a<code>0x1040</code>\u3002\u4f7f\u7528<code>objdump</code>\u547d\u4ee4\u67e5\u770b\u8fd9\u90e8\u5206\u7684\u53cd\u6c47\u7f16\u5185\u5bb9\u3002</p> <pre><code>$ objdump -M intel -d ./test_main | grep 1040 -A 10\n0000000000001040 &lt;_start&gt;:\n    1040:       f3 0f 1e fa             endbr64 \n    1044:       31 ed                   xor    ebp,ebp\n    1046:       49 89 d1                mov    r9,rdx\n    1049:       5e                      pop    rsi\n    104a:       48 89 e2                mov    rdx,rsp\n    104d:       48 83 e4 f0             and    rsp,0xfffffffffffffff0\n    1051:       50                      push   rax\n    1052:       54                      push   rsp\n    1053:       4c 8d 05 56 01 00 00    lea    r8,[rip+0x156]        # 11b0 &lt;__libc_csu_fini&gt;\n    105a:       48 8d 0d df 00 00 00    lea    rcx,[rip+0xdf]        # 1140 &lt;__libc_csu_init&gt;\n    1061:       48 8d 3d c1 00 00 00    lea    rdi,[rip+0xc1]        # 1129 &lt;main&gt;\n</code></pre> <p>\u8fd9\u91cc\uff0c\u53d1\u73b0\u4e86\u771f\u6b63\u7684\u5165\u53e3\u540d<code>_start</code>\u3002\u6c47\u7f16\u4e2d\u91c7\u7528\u8fd9\u4e2a\u7b26\u53f7\u7eaf\u7cb9\u662f\u7ea6\u5b9a\u4fd7\u6210\uff0c\u4e1a\u5185\u4e60\u60ef\u800c\u5df2\u3002\u94fe\u63a5\u5668\u5728\u94fe\u63a5\u76ee\u6807\u7684\u65f6\u5019\uff0c\u5728\u5168\u5c40\u7b26\u53f7\u8868\u4e2d\u67e5\u627e\u8fd9\u4e2a\u7b26\u53f7\uff0c\u5e76\u5c06\u5730\u5740\u5199\u5165\u5230ELF\u5934\u90e8\u4fe1\u606f\u4e2d\u7684\u76f8\u5173\u5b57\u6bb5<code>e_entry</code>\u3002</p> <pre><code>$ ld --verbose\nGNU ld (GNU Binutils for Ubuntu) 2.34\n  Supported emulations:\n   elf_x86_64\n   elf32_x86_64\n   elf_i386\n   elf_iamcu\n   elf_l1om\n   elf_k1om\n   i386pep\n   i386pe\nusing internal linker script:\n==================================================\n/* Script for -z combreloc -z separate-code */\n/* Copyright (C) 2014-2020 Free Software Foundation, Inc.\n   Copying and distribution of this script, with or without modification,\n   are permitted in any medium without royalty provided the copyright\n   notice and this notice are preserved.  */\nOUTPUT_FORMAT(\"elf64-x86-64\", \"elf64-x86-64\",\n              \"elf64-x86-64\")\nOUTPUT_ARCH(i386:x86-64)\nENTRY(_start)\nSEARCH_DIR(\"=/usr/local/lib/x86_64-linux-gnu\"); SEARCH_DIR(\"=/lib/x86_64-linux-gnu\"); SEARCH_DIR(\"=/usr/lib/x86_64-linux-gnu\"); SEARCH_DIR(\"=/usr/lib/x86_64-linux-gnu64\"); SEARCH_DIR(\"=/usr/local/lib64\"); SEARCH_DIR(\"=/lib64\"); SEARCH_DIR(\"=/usr/lib64\"); SEARCH_DIR(\"=/usr/local/lib\"); SEARCH_DIR(\"=/lib\"); SEARCH_DIR(\"=/usr/lib\"); SEARCH_DIR(\"=/usr/x86_64-linux-gnu/lib64\"); SEARCH_DIR(\"=/usr/x86_64-linux-gnu/lib\");\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c\u6bcf\u4e2aC\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u90fd\u4f1a\u4f9d\u8d56\u4e8e<code>C Runtime Library</code>\uff0c\u5373\u4f7f\u5982\u4e0a\u9762\u4f8b\u5b50\u4e00\u6837\u6ca1\u6709\u663e\u5f0f\u6dfb\u52a0\u4efb\u4f55\u5e93\u51fd\u6570\u8c03\u7528\u3002\u5728GNU/Linux\u5e73\u53f0\u4e0a\u8fd0\u884c\u65f6\u5e93\u5c31\u662f<code>glibc</code>\u3002\u6211\u4eec\u53ef\u4ee5\u5728GitHub\u4e0a\u627e\u5230\u5b83\u7684\u5177\u4f53\u5b9e\u73b0glibc/sysdeps/x86_64/start.S\u3002</p> <pre><code>/* This is the canonical entry point, usually the first thing in the text\n   segment.  The SVR4/i386 ABI (pages 3-31, 3-32) says that when the entry\n   point runs, most registers' values are unspecified, except for:\n   %rdx     Contains a function pointer to be registered with `atexit'.\n        This is how the dynamic linker arranges to have DT_FINI\n        functions called for shared libraries that have been loaded\n        before this code runs.\n   %rsp     The stack contains the arguments and environment:\n        0(%rsp)             argc\n        LP_SIZE(%rsp)           argv[0]\n        ...\n        (LP_SIZE*argc)(%rsp)        NULL\n        (LP_SIZE*(argc+1))(%rsp)    envp[0]\n        ...\n                        NULL\n*/\n\n#include &lt;sysdep.h&gt;\n\nENTRY (_start)\n    /* Clearing frame pointer is insufficient, use CFI.  */\n    cfi_undefined (rip)\n    /* Clear the frame pointer.  The ABI suggests this be done, to mark\n       the outermost frame obviously.  */\n    xorl %ebp, %ebp\n\n    /* Extract the arguments as encoded on the stack and set up\n       the arguments for __libc_start_main (int (*main) (int, char **, char **),\n           int argc, char *argv,\n           void (*init) (void), void (*fini) (void),\n           void (*rtld_fini) (void), void *stack_end).\n       The arguments are passed via registers and on the stack:\n    main:       %rdi\n    argc:       %rsi\n    argv:       %rdx\n    init:       %rcx\n    fini:       %r8\n    rtld_fini:  %r9\n    stack_end:  stack.  */\n\n    mov %RDX_LP, %R9_LP /* Address of the shared library termination\n                   function.  */\n#ifdef __ILP32__\n    mov (%rsp), %esi    /* Simulate popping 4-byte argument count.  */\n    add $4, %esp\n#else\n    popq %rsi       /* Pop the argument count.  */\n#endif\n    /* argv starts just at the current stack top.  */\n    mov %RSP_LP, %RDX_LP\n    /* Align the stack to a 16 byte boundary to follow the ABI.  */\n    and  $~15, %RSP_LP\n\n    /* Push garbage because we push 8 more bytes.  */\n    pushq %rax\n\n    /* Provide the highest stack address to the user code (for stacks\n       which grow downwards).  */\n    pushq %rsp\n\n    /* These used to be the addresses of .fini and .init.  */\n    xorl %r8d, %r8d\n    xorl %ecx, %ecx\n\n#ifdef PIC\n    mov main@GOTPCREL(%rip), %RDI_LP\n#else\n    mov $main, %RDI_LP\n#endif\n\n    /* Call the user's main function, and exit with its value.\n       But let the libc call main.  Since __libc_start_main in\n       libc.so is called very early, lazy binding isn't relevant\n       here.  Use indirect branch via GOT to avoid extra branch\n       to PLT slot.  In case of static executable, ld in binutils\n       2.26 or above can convert indirect branch into direct\n       branch.  */\n    call *__libc_start_main@GOTPCREL(%rip)\n\n    hlt         /* Crash if somehow `exit' does return.  */\nEND (_start)\n\n/* Define a symbol for the first piece of initialized data.  */\n    .data\n    .globl __data_start\n__data_start:\n    .long 0\n    .weak data_start\n    data_start = __data_start\n</code></pre>"},{"location":"c-cpp/c/#crt","title":"CRT","text":"<p>\u53ef\u4ee5\u770b\u5230C\u8fd0\u884c\u65f6\u5e93\u5728\u6267\u884cmain\u4e4b\u524d\uff0c\u505a\u4e86\u5f88\u591a\u51c6\u5907\u5de5\u4f5c\uff0c\u4e5f\u6ce8\u518c\u4e86\u6e05\u7406\u6790\u6784\u90e8\u5206\u7684\u5185\u5bb9\u3002\u4e4b\u540e\uff0c\u4f7f\u7528<code>__libc_start_main</code>\u6765\u8c03\u7528<code>main</code>\u51fd\u6570\u3002\u5728\u7a0b\u5e8f\u9000\u51fa\u7684\u65f6\u5019\uff0cC\u8fd0\u884c\u65f6\u5e93\u8fd8\u4f1a\u5c06main\u7684\u8fd4\u56de\u503c\u4f20\u9012\u7ed9<code>exit(int)</code>\u51fd\u6570\uff0c\u544a\u77e5\u64cd\u4f5c\u7cfb\u7edf\u672c\u6b21\u7a0b\u5e8f\u6267\u884c\u7684\u7ed3\u679c\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u80fd\u5728shell\u4e2d\u770b\u5230\u548c\u83b7\u53d6\u8fd4\u56de\u503c\u7684\u539f\u56e0\u3002</p> <pre><code> lighthouse @ VM-12-15-ubuntu in ~/repo [21:28:46] \n$ wget ssss\n--2022-10-04 21:28:50--  http://ssss/\nResolving ssss (ssss)... failed: Temporary failure in name resolution.\nwget: unable to resolve host address \u2018ssss\u2019\n\n# lighthouse @ VM-12-15-ubuntu in ~/repo [21:28:50] C:4\n$ \n</code></pre> <p>\u4e0a\u9762\u7684<code>C:4</code>\u5c31\u662f<code>wget</code>\u8fd9\u6761shell\u547d\u4ee4\u7684\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u5728\u4fe1\u53f7\u5904\u7406\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u6ce8\u518c\u4fe1\u53f7\u5904\u7406\u63a5\u53e3\uff0c\u9488\u5bf9\u9000\u51fa\u7684\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4f1a\u5728libc\u5e93\u7684exit\u65f6\u5019\u6267\u884c\u3002\u800c<code>abort()</code>\u51fd\u6570\u5219\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u4e0d\u4f1a\u6267\u884clibc\u5e93\u7684\u6e05\u7406\u5de5\u4f5c\u3002</p> <p>CRT\u662f\u8ddf\u5e73\u53f0\u76f8\u5173\u7684\uff0c\u5728Windows\u4e0a\u6211\u4eec\u4f1a\u770b\u5230msvcrt\uff0c\u5fae\u8f6f\u7684VC\u7f16\u8bd1\u5668\u4e5f\u4f1a\u505a\u7c7b\u4f3c\u7684\u5904\u7406\u3002</p>"},{"location":"c-cpp/complicated-func-declaration/","title":"complicated function declaration","text":"<p>Tool: cdecl</p>"},{"location":"c-cpp/complicated-func-declaration/#sample-from-stack-overflow","title":"Sample from Stack overflow","text":"<p>\u89e3\u6790\u590d\u6742\u7684\u51fd\u6570\u548c\u6307\u9488\u5b9a\u4e49\u7b49 How do I understand complicated function declarations?</p>"},{"location":"c-cpp/complicated-func-declaration/#local-tool","title":"local tool","text":"<pre><code>sudo apt install cdecl -y\n\ncdecl\nType `help' or `?' for help\ncdecl&gt; void (*(*(*fp)(int,int))(int))\nsyntax error\ncdecl&gt; void (*(*(*fp)(int,int))(int));\nsyntax error\ncdecl&gt; explain void (*(*(*fp)(int,int))(int));\ndeclare fp as pointer to function (int, int) returning pointer to function (int) returning pointer to void\n</code></pre>"},{"location":"c-cpp/cpp/","title":"c++","text":""},{"location":"c-cpp/cpp/#const","title":"const","text":""},{"location":"c-cpp/cpp/#const_1","title":"\u5168\u5c40const\u53d8\u91cf","text":"<p>const\u53d8\u91cf\u9ed8\u8ba4\u53ea\u518d\u6587\u4ef6\u5185\u6709\u6548\uff0c\u4e5f\u5c31\u662f\u8ddf\u6587\u4ef6\u5185\u7684static\u5168\u5c40\u53d8\u91cf\u4e00\u6837\u3002 \u56e0\u4e3aconst\u53d8\u91cf\u5fc5\u987b\u8981\u5728\u7f16\u8bd1\u671f\u95f4\u786e\u5b9a\u5176\u521d\u59cb\u503c\u3002</p> <p>\u5982\u679c\u67d0\u4e2aconst\u53d8\u91cf\uff0c\u521d\u59cb\u503c\u4e0d\u662f\u4e00\u4e2a\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u53c8\u60f3\u5728\u6587\u4ef6\u4e4b\u95f4\u5171\u4eab\uff0c\u53c8\u4e0d\u60f3\u7f16\u8bd1\u5668\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u751f\u6210\u72ec\u7acb\u7684\u53d8\u91cf\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\uff0c\u65e0\u8bba\u662f\u5168\u5c40const\u53d8\u91cf\u7684\u5b9a\u4e49\u8fd8\u662f\u58f0\u660e\uff0c\u90fd\u8981\u52a0\u4e0a<code>extern</code>\u3002</p> <pre><code>// const_var.cpp\n#include &lt;iostream&gt;\nusing namespace std;\n\n// NOTE: \u8fd9\u91cc\u7684\u5b9a\u4e49\u52a0\u4e0a\u4e86extern\nextern const int k_num = 100;\n\nvoid print_knum()\n{\n    cout &lt;&lt; __FUNCTION__ &lt;&lt; \":\" &lt;&lt; k_num &lt;&lt; endl;\n}\n\n</code></pre> <pre><code>// main.cpp\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nextern const int k_num;\nextern void print_knum();\nint main()\n{\n    cout &lt;&lt; __FUNCTION__ &lt;&lt; \":\" &lt;&lt; k_num &lt;&lt; endl;\n    print_knum();\n    return 0;\n}\n</code></pre> <p>Output:</p> <pre><code>main:100\nprint_knum:100\n</code></pre>"},{"location":"c-cpp/cpp/#namespace-static","title":"namespace {} \u66ff\u4ee3\u6587\u4ef6\u5185\u7684\u5168\u5c40<code>static</code>","text":"<pre><code>struct AllocateTrace\n{\n    uint32_t Allocated = 0;\n    uint32_t Freed = 0;\n\n    void PrintUsage()\n    {\n        cout &lt;&lt; \"Usage=0x\" &lt;&lt; hex &lt;&lt; Allocated - Freed &lt;&lt; endl;\n    }\n};\n\nnamespace\n{\nAllocateTrace tracer;\n}\n</code></pre>"},{"location":"c-cpp/cpp/#class","title":"Class","text":""},{"location":"c-cpp/cpp/#_1","title":"\u9ed8\u8ba4\u6784\u9020\u51fd\u6570","text":"<p>\u7f16\u8bd1\u5668\u5728\u9700\u8981\u6784\u9020\u5bf9\u8c61\uff0c\u4e14\u8be5\u7c7b\u6ca1\u6709\u660e\u786e\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019\u4f1a\u521b\u5efa\u9ed8\u8ba4\u7684\u6784\u9020\u51fd\u6570\u3002</p> <p>\u9ed8\u8ba4\u7684\u6784\u9020\u51fd\u6570\u5305\u62ec</p> <ul> <li>\u65e0\u53c2\u6784\u9020\u51fd\u6570<code>A()</code></li> <li>\u62f7\u8d1d\u6784\u9020\u51fd\u6570<code>A(const A&amp;)</code></li> <li>\u8d4b\u503c\u6784\u9020\u51fd\u6570<code>A&amp; operator=(const A&amp;)</code></li> </ul> <p>\u540c\u7406\uff0c\u8fd8\u4f1a\u521b\u5efa\u9ed8\u8ba4\u7684\u6790\u6784\u51fd\u6570<code>~A()</code>\u3002</p> <p>\u5982\u679c\u8be5\u7c7b\u6709\u7279\u6b8a\u7684\u6784\u9020\u548c\u6790\u6784\u5904\u7406\uff0c\u4e0d\u5e94\u8be5\u4f9d\u8d56\u7f16\u8bd1\u5668\u751f\u6210\u7684\u9ed8\u8ba4\u51fd\u6570\uff0c\u5b83\u4eec\u90fd\u662f\u7a7a\u7684\u51fd\u6570\u4f53\uff0c\u51e0\u4e4e\u6ca1\u6709\u5b9e\u8d28\u4f5c\u7528\u3002</p>"},{"location":"c-cpp/cpp/#virtual","title":"\u7236\u7c7b\u7684\u6790\u6784\u51fd\u6570\u4e00\u5b9a\u8981\u58f0\u660e\u4e3avirtual","text":"<p>\u53ea\u6709\u8fd9\u6837\uff0c\u5728<code>delete</code>\u7236\u7c7b\u7c7b\u578b\u6307\u9488\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u8c03\u7528\u771f\u6b63\u5bf9\u8c61\u6240\u5c5e\u7c7b\u7684\u6790\u6784\u51fd\u6570\u3002</p> <pre><code>class father \n{\n    virtual ~father();\n};\n\nfather* f = new child();\ndelete f;\n</code></pre>"},{"location":"c-cpp/cpp/#const-member-function","title":"const member function","text":"<p>Means in this func, member variables are const.</p> <pre><code>class A\n{\n    int x = 10;\n    int *p = &amp;x;\n\n    void test() const\n    {\n        *p = 20;\n    }\n\n    void test2() const\n    {\n        // Cannot assign to non-static data member within const member function 'test2'\n        //p = new int;\n    }\n};\n</code></pre>"},{"location":"c-cpp/cpp/#overload","title":"\u91cd\u8f7d overload","text":"<p>\u7c7b\u4e2d\u5305\u542b\u591a\u4e2a\u540c\u540d\uff0c\u4e0d\u540c\u53c2\u6570\u7684\u51fd\u6570\uff0c\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e3a\u91cd\u8f7d\u3002\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u4f5c\u4e3a\u5224\u65ad\u56e0\u7d20\u3002</p>"},{"location":"c-cpp/cpp/#override","title":"\u91cd\u5199 override","text":"<p>\u5b50\u7c7b\u4e2d\u91cd\u65b0\u5b9e\u73b0\u7236\u7c7b\u4e2d\u7684\u540c\u6837\u58f0\u660e\u5f62\u5f0f\u7684virtual\u51fd\u6570\u3002</p>"},{"location":"c-cpp/cpp/#_2","title":"\u7ee7\u627f\u548c\u591a\u6001","text":"<p>\u4e0d\u592a\u4e25\u8c28\u7684\u8bf4\u6cd5\uff0c\u7ee7\u627f\u662f\u5b50\u7c7b\u4f7f\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff1b\u591a\u6001\u662f\u7236\u7c7b\u4f7f\u7528\u5b50\u7c7b\u7684\u65b9\u6cd5\u3002</p>"},{"location":"c-cpp/cpp/#tools","title":"Tools","text":"<ul> <li>cdecl   \u89e3\u6790\u590d\u6742\u7684\u51fd\u6570\u548c\u6307\u9488\u5b9a\u4e49\u7b49   How do I understand complicated function declarations?</li> </ul>"},{"location":"c-cpp/cross-compile/","title":"cross compile","text":""},{"location":"c-cpp/cross-compile/#gcc-configure-options","title":"GCC configure options","text":"<p><code>--build</code>: where compilation occurs, \u5f53\u524d\u662f\u5728\u4ec0\u4e48\u5e73\u53f0\u7f16\u8bd1\u7684 <code>--host</code>: where the object will run, \u76ee\u6807\u662f\u5728\u4ec0\u4e48\u5e73\u53f0\u8fd0\u884c\u7684 <code>--target</code>: which platform the object can handle, \u76ee\u6807\u6587\u4ef6\u9488\u5bf9\u7684\u662f\u4ec0\u4e48\u5e73\u53f0</p> <p>\u901a\u5e38\uff0chost\u548ctarget\u662f\u4e00\u81f4\u7684\uff0c\u8fd9\u4e5f\u662f\u9ed8\u8ba4\u7684\uff0c\u5982\u679c\u672a\u8bbe\u7f6etarget\uff0c\u5b83\u7684\u503c\u4e0ehost\u4e00\u81f4\u3002 \u5bf9\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0cbuild\u548chost\u662f\u4e00\u81f4\u7684\uff0c\u90fd\u662f\u5f53\u524d\u7684\u5bbf\u4e3b\u673a\uff0ctarget\u662f\u76ee\u6807\u5e73\u53f0\uff0c\u6bd4\u5982armeabi\u3002 \u6781\u7aef\u7684\u4f8b\u5b50(GCC\u672f\u8bed<code>Canadian Cross</code>)\uff0c\u5728x86\u4e0a\u7f16\u8bd1\uff0c\u8dd1\u5728powerpc\uff0c\u9488\u5bf9arm\u5e73\u53f0\u3002 \u5e38\u89c1\u7684\u60c5\u51b5\u51fa\u73b0\u5728GDB client\uff0c\u6211\u4eec\u5728A\u673a\u5668\u4e0a\u7f16\u8bd1\uff0c\u5728B\u673a\u5668\u4e0a\u8fd0\u884cGDB client\uff0c\u8fd9\u4e2aGDB Client\u9488\u5bf9\u76ee\u6807\u5e73\u53f0C\u3002  </p> <p>\u4e00\u4e2a\u4e0d\u5e38\u89c1\u4f8b\u5b50\u662f\uff1a</p> <ul> <li>A\u5e73\u53f0\u6bd4\u8f83\u6162\uff0c\u4f46\u662f\u5b83\u6709\u7f16\u8bd1\u5668</li> <li>B\u5e73\u53f0\u6bd4\u8f83\u5feb\uff0c\u4f46\u662f\u5b83\u6ca1\u6709\u7f16\u8bd1\u5668</li> <li>C\u5e73\u53f0\u53c8\u6162\uff0c\u53c8\u6ca1\u6709\u7f16\u8bd1\u5668</li> </ul> <p>\u4e3a\u4e86\u957f\u671f\u5730\u5feb\u901f\u6784\u5efa\u76ee\u6807\uff0c\u6211\u4eec\u81ea\u7136\u60f3\u6784\u5efa\u4e00\u5957\u5728B\u5e73\u53f0\u4e0a\u8fd0\u884c\u7684\u7f16\u8bd1\u5957\u4ef6\u3002 \u6b64\u65f6\uff0c\u5728A\u5e73\u53f0\u4e0a\u7684\u7f16\u8bd1\u9009\u9879\u5e94\u8be5\u5982\u4e0b\uff1a</p> <pre><code>./configure     \\\n    --build=A   \\\n    --host=B    \\\n    --target=C  \\\n    ...\n</code></pre>"},{"location":"c-cpp/cross-compile/#_1","title":"\u6784\u5efa\u4ea4\u53c9\u7f16\u8bd1\u5668","text":"<p>The C standard defines two different kinds of executing environments - \"freestanding\" and \"hosted\". While the definition might be rather fuzzy for the average application programmer, it is pretty clear-cut when you're doing OS development: A kernel is \"freestanding\", everything you do in user space is \"hosted\". A \"freestanding\" environment needs to provide only a subset of the C library: float.h, iso646.h, limits.h, stdalign.h, stdarg.h, stdbool.h, stddef.h, stdint.h and stdnoreturn.h (as of C11). All of these consist of typedef s and #define s \"only\", so you can implement them without a single .c file in sight.</p> <p>C \u6807\u51c6\u539f\u6587  </p> <p>5.1.2 Execution environments Tw o execution environments are defined: freestanding and hosted. In both cases, program startup occurs when a designated C function is called by the execution environment. All objects with static storage duration shall be initialized (set to their initial values) before program startup. The manner and timing of such initialization are otherwise unspecified. Program termination returns control to the execution environment.</p> <p>C\u8bed\u8a00\u6807\u51c6\u89c4\u5b9a\u4e86\u4e24\u79cd\u8fd0\u884c\u73af\u5883\uff0c\u72ec\u7acb\u548c\u6258\u7ba1\u3002 \u5728Hosted\u73af\u5883\u4e0b\uff0cC\u7a0b\u5e8f\u5165\u53e3\u70b9\u5fc5\u987b\u662f\u547d\u540d\u4e3amain\u7684\u51fd\u6570\uff0c\u800c\u4e14\u5176\u51fd\u6570\u539f\u578b\u5fc5\u987b\u7b26\u5408\u6807\u51c6\u3002 \u800c\u5728Freestanding\u73af\u5883\u4e0b\uff0cC\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u6ca1\u6709\u6307\u5b9a\u7684\u540d\u79f0\uff0c\u7531\u7a0b\u5e8f\u5458\u81ea\u884c\u51b3\u5b9a\u3002  </p> <p>\u6211\u4eec\u7f16\u8bd1\u7528\u6237\u7a0b\u5e8f\u91c7\u7528\u7684\u5c31\u662f\u540e\u8005\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7f16\u8bd1\u5668\u548c\u94fe\u63a5\u5668\u90fd\u4f1a\u81ea\u52a8\u6dfb\u52a0\u4f9d\u8d56\u7684C\u5e93\u8fd0\u884c\u5e93\uff0c\u5e76\u589e\u52a0\u4e86C\u5e93\u7684\u521d\u59cb\u5316\u548c\u7ec8\u6b62\u65f6\u7684\u6e05\u7406\u3002 \u5f53\u6211\u4eec\u60f3\u8981\u6784\u5efa\u65b0\u7684\u7cfb\u7edf\u5e73\u53f0\uff08\u64cd\u4f5c\u7cfb\u7edf\uff0c\u72ec\u7acb\u7684\u76ee\u6807\u5e73\u53f0\u7a0b\u5e8f-\u7f16\u8bd1\u5668\u7b49\uff09\uff0c\u9700\u8981\u4f7f\u7528<code>freestanding</code>\u7c7b\u578b\u3002</p> <p>\u6ce8\uff1a\u8fd9\u91cc\u7684freestanding\u7f16\u8bd1\u5668\u548cgcc\u7684-ffreestanding\u9009\u9879\u6709\u4e00\u5b9a\u7684\u5173\u8054\u3002 -ffreestanding\u5c06hosted\u7684gcc\u964d\u7ea7\u4e3afreestanding\u6765\u4f7f\u7528\u3002</p> <p>\u6700\u4fdd\u9669\u7684\u505a\u6cd5\u662f\uff1a</p> <ol> <li>\u6784\u5efafreestanding\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</li> <li>\u7528\u8fd9\u4e2a\u72ec\u7acb\u7f16\u8bd1\u5668\u7f16\u8bd1\u76ee\u6807glibc\uff0cbinutils\u7b49</li> <li>\u518d\u7528\u72ec\u7acb\u7f16\u8bd1\u5668\u5f00\u542f\u5b8c\u6574\u529f\u80fd\u9009\u9879\uff0c\u7ed3\u5408glibc\u7b49\u7f16\u8bd1\u5b8c\u6574\u529f\u80fd\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</li> </ol> <p>1\u4e2d\u7684\u7f16\u8bd1\u5668\u9488\u5bf9OS\u3001\u5355\u7247\u673a\u548c\u5e95\u5c42\u5f00\u53d1\u8db3\u591f\u4e86\u3002\u4f46\u662f\u5bf9\u4e8e\u5f00\u53d1OS\u4e0b\u7528\u6237\u7a0b\u5e8f\u662f\u4e0d\u591f\u7684\uff0c\u5b83\u4e0d\u662f\u4e00\u4e2ahosted\u7684\u7f16\u8bd1\u5668\u3002 \u7f16\u8bd1\u5668hosted\u7a0b\u5e8f\uff0c\u9700\u8981\u521d\u59cb\u5316\u73af\u5883\uff0c\u8fd9\u4e9b\u4f9d\u8d56\u4e8eC\u5e93\u3002\u800c\u7f16\u8bd1\u5668\u672c\u8eab\u4e0d\u77e5\u9053glibc\u7684\u8def\u5f84\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u9700\u8981\u989d\u5916\u7684\u547d\u4ee4\u884c\u53c2\u6570\u6765\u63d0\u4f9b\u3002 \u56e0\u6b64\uff0c\u8fd8\u9700\u8981\u6267\u884c\u6b65\u9aa42\u6765\u6784\u5efa\u4e00\u4e2a\u5b8c\u6574\u529f\u80fd\u7684\u7f16\u8bd1\u5668\u3002 binutils\u91cc\u9762\u5305\u542b\u4e86\u94fe\u63a5\u5668\u76f8\u5173\u7684\u529f\u80fd\u5957\u4ef6\u3002</p> <pre><code>[gcc-xxx.xx] $ ./configure          \\\n                --disable-nls       \\\n                --without-headers   \\\n                --with-newlib       \\\n                --enable-language=c\n</code></pre> <p><code>--disable-nls</code>: disable native language support <code>--without-headers</code>: \u5f3a\u5236libgcc\u4e0d\u4f7f\u7528\u4efb\u4f55C\u5e93\u7684\u5934\u6587\u4ef6 <code>--with-newlib</code>: \u914d\u7f6elibgcc\u548cgcc\u4e2d\u7684\u5176\u4ed6\u5e93\u4f7f\u7528newlib\u7684\u5934\u6587\u4ef6\uff0c\u800c\u4e0d\u8981\u4f7f\u7528C\u7684\u6807\u51c6\u5e93  </p> <p>newlib\u662fRedHat\u516c\u53f8\u7684\u5f00\u6e90C\u6807\u51c6\u5e93\uff0c\u4e0d\u9002\u7528\u6240\u6709\u7684\u5e73\u53f0\uff0c\u4f46\u662f\u5bf9\u4e8ePOSIX\u7cfb\u7edf\u548c\u5d4c\u5165\u5f0f\u7cfb\u7edf\u8db3\u591f\u4e86\u3002</p>"},{"location":"c-cpp/cross-compile/#reference","title":"reference","text":"<p>OSDev Wiki - GCC Cross-Compiler --build --target --host Canadian Cross Investigating the effects of GCC's --without-headers and --with-newlib configuration flags Why is the Canadian Cross used for cross-compilation in Linux From Scratch-1 Why is the Canadian Cross used for cross-compilation in Linux From Scratch-2 Freestanding C\u4e0e\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u751f\u6210\u539f\u7406\u5206\u6790</p>"},{"location":"c-cpp/iterator/","title":"iterator","text":"<pre><code>#ifndef ITER_PRACTICE_HPP\n#define ITER_PRACTICE_HPP\n\n#include &lt;iostream&gt;\nusing namespace std;\n\nstruct iter_practice\n{\n    void sort()\n    {\n        for (int i = 0; i &lt; 5; i++)\n            for (int j = i + 1; j &lt; 5; j++)\n                if (nums[j] &lt; nums[i])\n                {\n                    auto temp = nums[j];\n                    nums[j] = nums[i];\n                    nums[i] = temp;\n                }\n    }\n\n    operator bool() const\n    {\n        if (nums[0] == 100)\n            return true;\n\n        return false;\n    }\n\n    struct iter\n    {\n        int* m_p = nullptr;\n\n        iter(int *p) { m_p = p; }\n\n        /**\n         * @brief operator ++ \u540e\u7f00++\n         * @param step\n         * @return\n         */\n        iter&amp; operator++(int step)\n        {\n            cout &lt;&lt; \"step: \" &lt;&lt; step &lt;&lt; endl;\n            m_p++;\n            return *this;\n        }\n\n        /**\n         * @brief operator ++ ++\u524d\u7f00\n         * @return\n         */\n        iter&amp; operator++()\n        {\n            m_p++;\n            return *this;\n        }\n\n        bool operator!=(const iter&amp; others)\n        {\n            return others.m_p != m_p;\n        }\n\n        int&amp; operator*()\n        {\n            return *m_p;\n        }\n\n    };\n\n    iter m_it { (int*)&amp;nums[0] };\n    iter m_it_end { (int*)&amp;nums[4] };\n    iter&amp; begin()\n    {\n        m_it = (int*)&amp;nums[0];\n        return m_it;\n    }\n\n    iter&amp; end() { return m_it_end; }\n\n    int operator[](size_t n)\n    {\n        if (n &gt; 5)\n            return -1;\n\n        return nums[n];\n    }\n\n    friend int test_fr(const iter_practice&amp; ip);\nprivate:\n    int nums[5] { 105, 100, 400, 200, 330 };\n};\n\n#endif // ITER_PRACTICE_HPP\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n#include \"iter_practice.hpp\"\n\n#include &lt;vector&gt;\n#include &lt;tuple&gt;\n\nint test_fr(const iter_practice&amp; ip)\n{\n    return ip.nums[2];\n}\n\nint&amp;&amp; test(int &amp;a)\n{\n    //int a = 10;\n    return std::move(a);\n}\n\nint main()\n{\n    std::pair&lt;int, float&gt; p = std::make_pair(10, 3.5f);\n    std::pair&lt;int, float&gt; p2 = std::make_pair(110, 3.15f);\n    p.swap(p2);\n    cout &lt;&lt; p.second &lt;&lt; endl;\n    cout &lt;&lt; \"Hello World!\" &lt;&lt; endl;\n\n    iter_practice ip;\n\n    if (ip)\n        cout &lt;&lt; \"object is what we need;\" &lt;&lt; endl;\n    else\n        cout &lt;&lt; \"object is not what we need;\" &lt;&lt; endl;\n\n    ip.sort();\n\n    if (ip)\n        cout &lt;&lt; \"object is what we need;\" &lt;&lt; endl;\n    else\n        cout &lt;&lt; \"object is not what we need;\" &lt;&lt; endl;\n\n    for (iter_practice::iter&amp; it = ip.begin(); it != ip.end(); ++it)\n        cout &lt;&lt; *it &lt;&lt;\",\";\n    cout &lt;&lt; endl;\n\n    for (auto&amp; i : ip)\n        cout &lt;&lt; i &lt;&lt; \",\";\n\n    cout &lt;&lt; endl;\n\n    vector&lt;int&gt; nums {10, 2, 5, 99, 1};\n    for (auto&amp; n:nums)\n        cout &lt;&lt; n &lt;&lt; \",\";\n    cout &lt;&lt;endl;\n\n    /**\n     *  @note sss\n     */\n    for (vector&lt;int&gt;::iterator it = nums.begin(); it != nums.end(); it++)\n        cout &lt;&lt; *it.operator-&gt;() &lt;&lt;\",\";\n    cout &lt;&lt; endl;\n\n    cout &lt;&lt; __cplusplus &lt;&lt; endl;\n    cout &lt;&lt; test_fr(ip) &lt;&lt; endl;\n    int a = 0xF9;\n    cout &lt;&lt; test(a) &lt;&lt; endl;\n\n    cout &lt;&lt; ip[3] &lt;&lt; endl;\n\n    return 0;\n}\n\n</code></pre>"},{"location":"git/alias/","title":"alias","text":"<p>\u4f7f\u7528\u4e86<code>oh-my-zsh</code>\u4e4b\u540e\uff0c\u5185\u7f6e\u7684git\u63d2\u4ef6\u5df2\u7ecf\u6dfb\u52a0\u4e86\u5e38\u7528\u7684\u522b\u540d\u3002 \u672c\u6587\u5217\u4e3e\u81ea\u7528\u7684\u522b\u540d\u548c\u5e38\u7528\u7684\u547d\u4ee4\u7ec4\u5408\u3002</p> <ul> <li><code>glog</code>: <code>git log --oneline --decorate --graph</code></li> </ul>"},{"location":"git/alias/#_1","title":"\u672c\u5730\u6dfb\u52a0\u5b50\u6a21\u5757","text":"<pre><code>git submodule add https://github.com/chaconinc/DbConnector [optional:\u5176\u4ed6\u6587\u4ef6\u5939\u540d]\n</code></pre> <p>\u9ed8\u8ba4\u4f1a\u4f7f\u7528\u5b50\u4ed3\u5e93\u7684\u540d\u79f0\u5728\u672c\u5730\u521b\u5efa\u5b50\u6587\u4ef6\u5939\uff0c\u4e5f\u53ef\u4ee5\u5728url\u540e\u9762\u6dfb\u52a0\u7a7a\u683c\u6307\u5b9a\u65b0\u7684\u540d\u79f0\u3002</p>"},{"location":"git/alias/#clone","title":"clone\u540c\u65f6\u5c06\u6240\u6709\u5b50\u6a21\u5757\u914d\u7f6e\u5e76\u62c9\u53d6\u5230\u672c\u5730","text":"<pre><code>git clone --recurse-submodules https://github.com/chaconinc/MainProject\n</code></pre>"},{"location":"git/alias/#_2","title":"\u5b50\u6a21\u5757\u5728\u672c\u5730\u6ce8\u518c\u914d\u7f6e\u540c\u65f6\u9012\u5f52\u66f4\u65b0","text":"<pre><code>git submodule update --init --recursive\n</code></pre>"},{"location":"misc/talk/","title":"talk","text":"<p>\u827a\u672f\u5bb6\u770b\u5230\u7684\u4e0d\u662f\u4e16\u754c\u7684\u672c\u6765\u9762\u76ee\uff0c\u800c\u662f\u4e00\u4e9b\u66f4\u4e30\u5bcc\u3001\u66f4\u7b80\u5355\u3001\u66f4\u5f3a\u5927\u7684\u4e1c\u897f\u3002 \u827a\u672f\u4f5c\u54c1\u4e0d\u662f\u4e3a\u4e86\u8ba9\u89c2\u4f17\u91cd\u6e29\u73b0\u5b9e\uff0c\u800c\u662f\u4ece\u73b0\u5b9e\u4e2d\u521b\u9020\u51fa\u4e00\u4e9b\u4e1c\u897f\uff0c\u628a\u4e00\u79cd\u66f4\u5f3a\u70c8\u7684\u60c5\u7eea\u4f20\u9012\u7ed9\u89c2\u4f17\u3002 -- \u300a\u7167\u7247\u7f16\u8f91\u300b</p> <p>\u6211\u4e0d\u8003\u8651\u4f7f\u7528\u6295\u7968\u6765\u9009\u62e9\u653f\u7b56\u3002\u6211\u8ba4\u4e3a\u8fd9\u8868\u660e\u4e86\u9886\u5bfc\u4eba\u601d\u60f3\u4e0a\u7684\u865a\u5f31\uff0c\u65e0\u6cd5\u89c4\u5212\u8def\u7ebf\u3002 \u5a92\u4f53\u9f13\u52b1\u4eba\u4eec\u8d70\u54ea\u6761\u8def\uff0c\u4f60\u5c31\u8ddf\u7740\u8d70\u3002\u4f60\u5c31\u4e0d\u662f\u9886\u5bfc\u8005\u3002 -- \u674e\u5149\u8000</p> <p>\u4e00\u4e9b\u8f6f\u4ef6\u516c\u53f8\u53ef\u4ee5\u5c06\u6700\u7b80\u5355\u7684\u8f6f\u4ef6\u9879\u76ee\uff0c\u53d8\u6210\u4e00\u7cfb\u5217\u8270\u82e6\u7684\u6d41\u7a0b\uff0c\u5305\u542b\u65e0\u4f11\u6b62\u7684\u4f1a\u8bae\uff0c\u4ee5\u53ca\u5927\u91cf\"\u76f8\u5173\u8005\"\u7684\u53c2\u4e0e\u3002 \u8fd9\u4e9b\u516c\u53f8\u901a\u8fc7\u6bcf\u5468\u5fc5\u987b\u5b8c\u6210\u7684\u4e00\u7cfb\u5217\u4eea\u5f0f\u548c\u6d41\u7a0b\uff0c\u6d88\u706d\u6389\u4e86\u7f16\u7a0b\u7684\u4e50\u8da3\u548c\u751f\u4ea7\u529b\u3002 -- Hacker News \u8bfb\u8005</p> <p>\u9605\u8bfb\u4e0d\u4f1a\u8fc7\u65f6\uff0c\u9664\u975e\u5199\u4f5c\u8fc7\u65f6\u4e86\u3002\u5199\u4f5c\u4e0d\u4f1a\u8fc7\u65f6\uff0c\u9664\u975e\u601d\u8003\u8fc7\u65f6\u4e86\u3002\uff08Reading won't be obsolete till writing is, and writing won't be obsolete till thinking is.\uff09 -- Paul Graham</p> <p>\u7b80\u6d01\u7684\u5199\u4f5c\u9700\u8981\u52c7\u6c14\u3002\u8ba9\u4e8b\u7269\u53d8\u5c0f\u662f\u4e00\u79cd\u6df1\u601d\u719f\u8651\u7684\u3001\u56f0\u96be\u7684\u548c\u6709\u4ef7\u503c\u7684\u884c\u4e3a\u3002 \u5927\u591a\u6570\u4e66\u7c4d\u672c\u5e94\u662f\u4e00\u7bc7\u535a\u5ba2\u6587\u7ae0\u3002\u5927\u591a\u6570\u535a\u5ba2\u6587\u7ae0\u672c\u5e94\u662f\u4e00\u6761\u5fae\u535a\u3002\u5927\u591a\u6570\u5fae\u535a\u672c\u5e94\u4e0d\u5199\u3002 -- \u300a\u53d1\u5e03 Newsletter 35\u5e74\u768435\u6761\u6559\u8bad\u300b</p>"},{"location":"misc/talk/#_1","title":"\u5982\u679c\u98ce\u9759\u6b62\u4e86","text":"<p>\u98ce\u529b\u53d1\u7535\u6b63\u5728\u5168\u4e16\u754c\u5982\u706b\u5982\u837c\u5730\u53d1\u5c55\u3002 \u4f46\u662f\uff0c\u98ce\u529b\u53d1\u7535\u6709\u4e00\u4e2a\u524d\u63d0\uff0c\u5c31\u662f\u5fc5\u987b\u6709\u6e90\u6e90\u4e0d\u65ad\u7684\u98ce\u3002\u90a3\u4e48\uff0c\u98ce\u53ef\u80fd\u51fa\u73b0\u9759\u6b62\u5417\uff1f</p> <p>\u4e8b\u5b9e\u4e0a\uff0c2021\u5e74\u7684\u590f\u79cb\u4e4b\u9645\uff0c\u6b27\u6d32\u5927\u90e8\u5206\u5730\u533a\u5c31\u53d1\u751f\u4e86\"\u98ce\u65f1\"\u3002\u8bb8\u591a\u5730\u65b9\u7684\u98ce\u901f\u6bd4\u5e74\u5e73\u5747\u6c34\u5e73\u81f3\u5c11\u6162\u4e86\u7ea615%\uff0c\u82f1\u56fd\u51fa\u73b0\u4e8660\u5e74\u6765\u98ce\u529b\u6700\u5c0f\u7684\u65f6\u671f\u3002 \u524d\u5e749\u6708\uff0c\u98ce\u7535\u53d1\u7535\u8fd8\u5360\u82f1\u56fd\u53d1\u7535\u91cf\u768418%\uff0c\u4f46\u5230\u4e86\u53bb\u5e749\u6708\uff0c\u8fd9\u4e00\u6bd4\u4f8b\u9aa4\u964d\u81f32%\u3002\u4e3a\u4e86\u5f25\u8865\u80fd\u6e90\u7f3a\u53e3\uff0c\u82f1\u56fd\u88ab\u8feb\u91cd\u542f\u4e86\u4e24\u5ea7\u5c01\u5b58\u7684\u7164\u7535\u5382\u3002</p> <p>\u4e00\u9879\u7814\u7a76\u8868\u660e\uff0c\u5168\u4e16\u754c\u7684\u98ce\u901f\u6b63\u5728\u4e0b\u964d\uff0c\u4ece1978\u5e74\u52302010\u5e74\uff0c\u98ce\u901f\u6bcf\u5341\u5e74\u4e0b\u964d2.3%\u3002\u4e0d\u8fc7\uff0c2010\u5e74\u52302019 \u5e74\u53c8\u6709\u6240\u53cd\u5f39\u3002\u4ece\u6bcf\u5c0f\u65f67\u82f1\u91cc\u589e\u52a0\u52307.4\u82f1\u91cc\u3002 \u5c3d\u7ba1\u5982\u6b64\uff0c\u79d1\u5b66\u5bb6\u8fd8\u662f\u8ba4\u4e3a\uff0c\u672a\u6765\u7684\u98ce\u901f\u5c06\u4e0d\u65ad\u653e\u7f13\uff0c\u52302100\u5e74\u5168\u7403\u5e73\u5747\u98ce\u901f\u53ef\u80fd\u4e0b\u964d\u591a\u8fbe10%\u3002 \u5176\u4e2d\u7684\u539f\u56e0\uff0c\u6d89\u53ca\u5230\u4e86\u4e00\u4e2a\u6839\u672c\u7684\u95ee\u9898\uff1a\u4e3a\u4ec0\u4e48\u5730\u7403\u4e0a\u6709\u98ce\uff1f</p> <p>\u5730\u7403\u51fa\u73b0\u98ce\u5e26\uff0c\u4e3b\u8981\u539f\u56e0\u662f\u6e29\u5ea6\u4e0d\u5747\u5300\uff1a\u4e24\u6781\u5f88\u51b7\uff0c\u70ed\u5e26\u5f88\u6696\u3002\u8fd9\u79cd\u6e29\u5dee\u5bfc\u81f4\u4e86\u7a7a\u6c14\u6d41\u52a8\uff0c\u4ece\u800c\u4ea7\u751f\u4e86\u98ce\u3002 \u4f46\u662f\u7531\u4e8e\u5168\u7403\u53d8\u6696\uff0c\u4e24\u6781\u4e0e\u70ed\u5e26\u7684\u6e29\u5dee\u6b63\u5728\u51cf\u5c0f\uff0c\u8fd9\u662f\u56e0\u4e3a\u4e24\u6781\uff08\u5c24\u5176\u662f\u5317\u6781\uff09\u7684\u53d8\u6696\u901f\u5ea6\u6bd4\u70ed\u5e26\u5730\u533a\u5feb\u3002 \u53e6\u4e00\u4e2a\u98ce\u901f\u53d8\u5c0f\u7684\u539f\u56e0\uff0c\u53ef\u80fd\u662f\"\u5730\u7403\u8868\u9762\u7c97\u7cd9\u5ea6\"\u7684\u589e\u52a0\u3002\u4e16\u754c\u5404\u5730\u7684\u57ce\u5e02\u5efa\u7b51\u7684\u6570\u91cf\u548c\u89c4\u6a21\u6b63\u5728\u589e\u52a0\uff0c\u8fd9\u963b\u6321\u4e86\u98ce\u7684\u6d41\u52a8\u3002 \u98ce\u901f\u53d8\u5c0f\u4f1a\u4ea7\u751f\u4e25\u91cd\u540e\u679c\uff0c\u4e0d\u4ec5\u4ec5\u5f71\u54cd\u5230\u98ce\u529b\u53d1\u7535\u3002</p> <ol> <li>\u5f3a\u98ce\u53ef\u4ee5\u7f13\u89e3\u57ce\u5e02\u6c61\u67d3\uff0c\u7528\u65b0\u9c9c\u7a7a\u6c14\u4ee3\u66ff\u505c\u6ede\u7684\u7a7a\u6c14\u3002</li> <li>\u8f83\u6162\u7684\u98ce\u4f1a\u8ba9\u70ed\u6d6a\u96be\u4ee5\u7f13\u89e3\u3002</li> <li>\u6162\u98ce\u4e5f\u4f7f\u98de\u673a\u66f4\u96be\u8d77\u98de\uff0c\u56e0\u4e3a\u98de\u884c\u5458\u4f9d\u9760\u9006\u98ce\u5347\u7a7a\u3002\u5e0c\u814a\u7684\u4e00\u4e2a\u673a\u573a\uff0c\u7531\u4e8e\u9006\u98ce\u51cf\u7f13\u548c\u6c14\u6e29\u4e0a\u5347\uff0c\u7a7a\u5ba2320\u5728\u8fc7\u53bb30\u5e74\u4e2d\uff0c\u6700\u5927\u8d77\u98de\u91cd\u91cf\u51cf\u5c11\u4e864\u5428\u3002</li> </ol> <p>link</p>"},{"location":"misc/thinking/","title":"thinking","text":""}]}